{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Scripts\\ChooseGame/assets\\Scripts\\ChooseGame\\MatchUser.js"],"names":["cc","Class","extends","Component","properties","backButton","Node","tetirsComment","stoneComment","puyouComment","figureComment","mask","clickAudio","default","url","AudioClip","onLoad","CC_WECHATGAME","find","getComponent","gameClubButton","hide","director","isPaused","console","log","resume","tetirsX","x","stoneX","puyouX","figureX","active","self","loadMatchUserSuccess","sys","isNative","LoadUser","pictureUser","nameUser","node","getChildByName","Label","string","loadUserPictureByWx","on","loadScene","preloadScene","tX","Number","toFixed","sX","pX","fX","backA","moveTo","p","y","runAction","backb","backc","backd","bind","PressBlock","wx","showLoading","title","hideLoading","Promise","resolve","reject","then","data","nGameType","SendLongMsg","nUserScore","PressStoneBlock","PressFigureBlock","rundomChoose","r","Math","floor","random","helpLeft","event","tag","length","targetLeft","currentMenu","moveMenu","helpRight","targetRight","targetMenu","backB","backC","backD","moveAction","help","share","shareFriends","nativeShare","start"],"mappings":"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","file":"MatchUser.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\ChooseGame","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        backButton : cc.Node,\r\n        tetirsComment : cc.Node,\r\n        stoneComment:cc.Node,\r\n        puyouComment : cc.Node,\r\n        figureComment:cc.Node,\r\n        mask : cc.Node,\r\n        clickAudio : {\r\n            default : null,\r\n            url     : cc.AudioClip,\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        if(CC_WECHATGAME){\r\n            //隐藏游戏圈\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").gameClubButton.hide();\r\n        }\r\n        //播放背景音乐\r\n        if(cc.director.isPaused){\r\n            console.log(\"多人选择界面暂停了\");\r\n            cc.director.resume();\r\n        }\r\n        this.tetirsX = this.tetirsComment.x;\r\n        this.stoneX = this.stoneComment.x;\r\n        this.puyouX = this.puyouComment.x;\r\n        this.figureX = this.figureComment.x;\r\n        this.mask.active = false;\r\n        var self = this;\r\n        this.loadMatchUserSuccess = false;\r\n        if(cc.sys.isNative){\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").LoadUser(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser,cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nameUser,cc.find(\"Canvas/UserName\"),cc.find(\"Canvas/UserPicture\"));\r\n        }\r\n        if(CC_WECHATGAME){\r\n            this.node.getChildByName(\"UserName\").getComponent(cc.Label).string =cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nameUser;\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").loadUserPictureByWx(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser,cc.find(\"Canvas/UserPicture\"));\r\n        }\r\n        this.backButton.on(\"touchstart\",function(){\r\n            cc.director.loadScene(\"Main\");\r\n        })\r\n        //加入场景预加载\r\n        cc.director.preloadScene(\"MatchUser\",function(){\r\n            self.loadMatchUserSuccess = true;\r\n        });\r\n        var self = this;\r\n        this.mask.on(\"touchstart\",function(){\r\n            console.log(\"俄罗斯方块的x坐标是 \",self.tetirsComment.x);\r\n            var tX = Number(self.tetirsComment.x.toFixed(2));\r\n            var sX = Number(self.stoneComment.x.toFixed(2));\r\n            var pX = Number(self.puyouComment.x.toFixed(2));\r\n            var fX = Number(self.figureComment.x.toFixed(2));\r\n            console.log(\"tx is \",tX);\r\n            if(tX === 0){\r\n                console.log(\"TTTTTTTTTTTTTTTTTTTTT\");\r\n                var backA = cc.moveTo(0.4,cc.p(self.tetirsX,self.tetirsComment.y));\r\n                self.tetirsComment.runAction(backA);\r\n            }else if(sX === 0){\r\n                var backb = cc.moveTo(0.4,cc.p(self.stoneX,self.stoneComment.y));\r\n                self.stoneComment.runAction(backb);\r\n            }else if(pX === 0){\r\n                var backc = cc.moveTo(0.4,cc.p(self.puyouX,self.puyouComment.y));\r\n                self.puyouComment.runAction(backc);\r\n            }else if(fX === 0){\r\n                var backd = cc.moveTo(0.4,cc.p(self.figureX,self.figureComment.y));\r\n                self.figureComment.runAction(backd);\r\n            }\r\n            self.mask.active = false;\r\n        }.bind(this))\r\n    },\r\n    //点击俄罗斯方块匹配玩家\r\n    PressBlock:function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        if(this.loadMatchUserSuccess){\r\n            cc.director.loadScene(\"MatchUser\",function(){\r\n                if(CC_WECHATGAME){\r\n                    wx.hideLoading();\r\n                }\r\n            });\r\n        }else{\r\n            new Promise(function(resolve,reject){\r\n                cc.director.preloadScene(\"MatchUser\",function(){\r\n                    self.loadMatchUserSuccess = true;\r\n                    resolve(\"OK\");\r\n                })\r\n            }).then(function(data){\r\n                console.log(\"data is \" + data);\r\n                cc.director.loadScene(\"MatchUser\",function(){\r\n                    if(CC_WECHATGAME){\r\n                        wx.hideLoading();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nGameType=\"1\";\r\n        cc.find(\"PebmanentNode\").getComponent(\"GetServer\").SendLongMsg({\"tag1\":1,\"type\":\"1\",\"score\":cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nUserScore,\"nMapRow\":\"\",\"nMapCol\":\"\"});\r\n        // cc.director.loadScene(\"MatchUser\");\r\n    },\r\n    //点击宝石方块匹配玩家\r\n    PressStoneBlock : function(){\r\n        // if(this.loadMatchUserSuccess){\r\n        //     cc.director.loadScene(\"MatchUser\");\r\n        // }else{\r\n        //     new Promise(function(resolve,reject){\r\n        //         cc.director.preloadScene(\"MatchUser\",function(){\r\n        //             self.loadMatchUserSuccess = true;\r\n        //             resolve(\"OK\");\r\n        //         })\r\n        //     }).then(function(data){\r\n        //         console.log(\"data is \" + data);\r\n        //         cc.director.loadScene(\"MatchUser\");\r\n        //     });\r\n        // }\r\n        // cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nGameType=\"2\";\r\n        // cc.find(\"PebmanentNode\").getComponent(\"GetServer\").SendLongMsg({\"tag1\":1,\"type\":\"2\",\"score\":cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nUserScore,\"nMapRow\":\"\",\"nMapCol\":\"\"});\r\n    },\r\n    //点击画像方块匹配玩家\r\n    PressFigureBlock : function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        if(this.loadMatchUserSuccess){\r\n            cc.director.loadScene(\"MatchUser\",function(){\r\n                if(CC_WECHATGAME){\r\n                    wx.hideLoading();\r\n                }\r\n            });\r\n        }else{\r\n            new Promise(function(resolve,reject){\r\n                cc.director.preloadScene(\"MatchUser\",function(){\r\n                    self.loadMatchUserSuccess = true;\r\n                    resolve(\"OK\");\r\n                })\r\n            }).then(function(data){\r\n                console.log(\"data is \" + data);\r\n                cc.director.loadScene(\"MatchUser\",function(){\r\n                    if(CC_WECHATGAME){\r\n                        wx.hideLoading();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nGameType=\"4\";\r\n        cc.find(\"PebmanentNode\").getComponent(\"GetServer\").SendLongMsg({\"tag1\":1,\"type\":\"4\",\"score\":cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nUserScore,\"nMapRow\":\"\",\"nMapCol\":\"\"});\r\n    },\r\n    rundomChoose : function(){\r\n        var r = Math.floor(Math.random()*2);\r\n        //随机俄罗斯方块和画像方块\r\n        if(r === 0 ){\r\n            this.PressBlock();\r\n        }else{\r\n            this.PressFigureBlock();\r\n        }\r\n    },\r\n    helpLeft : function(event,tag){\r\n        if(typeof(tag) === \"string\" && tag.length === 2){\r\n            console.log(\"进入左移菜单\");\r\n            //左边的游戏类型\r\n            var targetLeft = tag[0];\r\n            console.log(\"进入左边的游戏类型菜单是 \",targetLeft);\r\n            //当前菜单的类型\r\n            var currentMenu = tag[1];\r\n            console.log(\"进入当前的游戏类型菜单是 \",targetLeft);\r\n\r\n            this.moveMenu(currentMenu,targetLeft);\r\n        }\r\n    },\r\n    helpRight : function(event,tag){\r\n        if(typeof(tag) === \"string\" && tag.length === 2){\r\n            console.log(\"进入右移菜单\");\r\n            //当前菜单的类型\r\n            var currentMenu = tag[0];\r\n            console.log(\"进入当前的游戏类型是 \",currentMenu);\r\n            //右边菜单的类型\r\n            var targetRight = tag[1];\r\n            console.log(\"进入右边的游戏菜单类型是 \",targetRight);\r\n            this.moveMenu(currentMenu,targetRight);\r\n        }\r\n    },\r\n    moveMenu : function(currentMenu,targetMenu){\r\n        //进入moveMenu\r\n        console.log(\"进入moveMenu方法\");\r\n        switch(currentMenu){\r\n            case \"1\":\r\n                var backA = cc.moveTo(0.4,cc.p(this.tetirsX,this.tetirsComment.y));\r\n                this.tetirsComment.runAction(backA);\r\n                break;\r\n            case \"2\":\r\n                var backB = cc.moveTo(0.4,cc.p(this.stoneX,this.stoneComment.y));\r\n                this.stoneComment.runAction(backB);\r\n                break;\r\n            case \"3\":\r\n                var backC = cc.moveTo(0.4,cc.p(this.puyouX,this.puyouComment.y));\r\n                this.puyouComment.runAction(backC);\r\n                break;\r\n            case \"4\":\r\n                var backD = cc.moveTo(0.4,cc.p(this.figureX,this.figureComment.y));\r\n                this.figureComment.runAction(backD);\r\n                break;\r\n        }\r\n        //缓慢的移动到显示的位置\r\n        var moveAction = cc.moveTo(0.5,cc.p(0,0));\r\n        console.log(\"进入选择targetMenu 分支\");\r\n        switch(targetMenu){\r\n            //俄罗斯方块\r\n            case \"1\":\r\n                this.tetirsComment.runAction(moveAction);\r\n                break;\r\n            //宝石方块    \r\n            case \"2\":\r\n                this.stoneComment.runAction(moveAction);\r\n                break;\r\n            //噗哟噗哟    \r\n            case \"3\":\r\n                this.puyouComment.runAction(moveAction);\r\n                break;\r\n            //画像方块    \r\n            case \"4\":\r\n                this.figureComment.runAction(moveAction);    \r\n                break;       \r\n        }\r\n    },\r\n    help : function(){\r\n        //显示俄罗斯方块的说明\r\n        this.mask.active = true;\r\n        var moveAction = cc.moveTo(0.5,cc.p(0,0));\r\n        this.tetirsComment.runAction(moveAction);\r\n    },\r\n    //分享\r\n    share : function(){\r\n        if(CC_WECHATGAME){\r\n            console.log(\"首页share\");\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").shareFriends();\r\n        }else if(cc.sys.isNative){\r\n            //原生平台分享\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nativeShare();\r\n        }\r\n    },\r\n    start () {\r\n\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}