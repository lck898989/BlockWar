{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Scripts\\Game2/assets\\Scripts\\Game2\\Game2Main.js"],"names":["cc","Class","extends","Component","properties","groundPrefab","default","type","Prefab","groundParent","Node","downBoxParent","prefabLong","prefabSquare","prefabL","prefabSquare1","nodeBackgroundBox","boxParent","prefab1","prefab22","prefab2","prefab3","prefab4","nodeDownButton","fChangeShape","fScaleChange","fActionDown","onLoad","Global","game1Main","SetBackground","nWidthPuYo","setPosition","getPositionX","getPositionY","userGroundChild","CreatBackGround","GetBlock","nRotateLong","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","isRotate","positionRotateX","positionRotateY","nPositionX","nPositionY","isActionShape","isActionDown","nChangeShape","isOutDown","self","TOUCH_START","event","nodeBlock","getComponent","nDownSpeed","TOUCH_END","RotateLoadPosition","child","getChildren","keyCode","KEY","a","MoveLeft","d","MoveRight","s","DownQuick","l","RotatePuYo","log","stringBoloekShape","nColor","RotateActioin","RotateLongShape","ChangePuyoColor","isDown","LoadPosition","target","jsonMsg","node","positionX","positionY","OnloadRotate","ChangeNodePositionY","nodePositionGroundY","find","ChangeNodePositionX","nodePositionGroundX","LodaRotation","nAngle","rotation","nodeBlockChild","stringColor","i","Animation","play","nRotateAngle","actionRotate","rotateTo","callRotate","callFunc","runAction","sequence","RotateLong","bezier","p","Math","cos","PI","sin","bezierAction","bezierTo","loadPositionAction","nLine","nRow","actionMoveLeft","moveBy","loadPosition1","loadPosition0","actionRotate1","spawn","IsDestroy","arrayBox","arrayDestroy","arrayPositionX","length","arrayDestroyWait","j","arrayPositionY","DestroyNode","CountRow","CountLine","isBox","destroy","nSign","isFind","push","isHas","ActionChangeShape","arrayChangeShape","fScale","actionChangeShape","scaleTo","actionResumeShape","arrayX","arrayY","nDownDistance","actionMoveDown","actionMoveUp","onloadPosition","actionStartShape","StartActionShape","ChangeShape","msgJson","boxParent1","StartActionDown","DestroyDown","nRow1","actionDown","moveTo","loadPosition","changeShape1","changeShape","isChangeShape","arrayChange","arrayDown","startChange","nRow2","nLine2","BoxDown","DisappearBox","GetDisappearBox","nRandomNum","floor","random0To1","stringColor1","nColor1","stringRandom","shapeBlock","nShape","nRotate","IsShape","setBlockPosition","stringShape1","v2WorldY","v1WorldX","stringShape","CopyBlock","getPosition","loader","loadRes","SpriteFrame","err","txt","Sprite","spriteFrame","nRandom","CreatPosition","prefabLBlock","instantiate","parent","GetBoxNode","childBox","nX","nY","x","y","start","GetShapeSign","array","arrayLine","inner","includes","isTall","k","fPositinoY","fPositinoX","SureShape","nArratLength","row","line","arraySign","stringConnectDirection","nodePuyo","nodeChild","nArrayRow","nArrayList","blockChild","CountPosition","nOldY","nOldX","isCollision","IsConnect","nTravel","nRow3","nLine3","update","dt","isStationary","isGameOver","nodeBoxArray","arrayLength","isChangeParent"],"mappings":"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","file":"Game2Main.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Game2","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        groundPrefab: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        groundParent: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //获取下落噗呦块的父节点\r\n        downBoxParent: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //获取 竖条预制体\r\n        prefabLong: {\r\n            default: null,\r\n            type: cc.Prefab\r\n\r\n        },\r\n        //获取颜色不一样田型预制体\r\n        prefabSquare: {\r\n            default: null,\r\n            type: cc.Prefab\r\n\r\n        },\r\n        //获取l型预制体\r\n        prefabL: {\r\n            default: null,\r\n            type: cc.Prefab\r\n\r\n        },\r\n        //获取颜色一样田预制体\r\n        prefabSquare1: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        //获取背景狂节点\r\n        nodeBackgroundBox: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //获取噗呦小块父节点\r\n        boxParent: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        prefab1: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        prefab22: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        prefab2: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        prefab3: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        prefab4: {\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        nodeDownButton: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //初始化方块压缩变形移动的时间\r\n        fChangeShape: 0,\r\n        //初始化变形缩放大小\r\n        fScaleChange: 0.5,\r\n        //可下落噗呦块下落时间\r\n        fActionDown: 0,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onLoad() {\r\n        Global.game1Main = this;\r\n        Global.SetBackground(this.nodeBackgroundBox, this.groundParent, Global.nWidthPuYo, 12);\r\n        this.boxParent.setPosition(this.groundParent.getPositionX(), this.groundParent.getPositionY());\r\n        //初始化背景子节点\r\n        this.userGroundChild = [];\r\n        //显示自己的游戏背景\r\n        Global.CreatBackGround(this.userGroundChild, 12, 6, this.groundPrefab, this.groundParent, Global.nWidthPuYo);\r\n        //   cc.log(this.userGroundChild);\r\n        this.GetBlock();\r\n        //初始化long型噗呦块的旋转次数\r\n        this.nRotateLong = 0;\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        //判断噗呦块是否正在旋转\r\n        this.isRotate = false;\r\n        //存取使用贝塞尔曲线选装后的坐标\r\n        this.positionRotateX = 0;\r\n        this.positionRotateY = 0;\r\n        //初始化实际坐标\r\n        this.nPositionX = 0;\r\n        this.nPositionY = 0;\r\n        //判断形变动作是否完成开关\r\n        this.isActionShape = false;\r\n        //  //判断固定后可向下移动的噗呦块是否完成下落动作\r\n        this.isActionDown = false;\r\n        //初始化形变次数\r\n        this.nChangeShape = 0;\r\n        //判断手指是否离开下落节点\r\n        this.isOutDown = true;\r\n        var self = this;\r\n        //当手指落在下落节点上时\r\n        this.nodeDownButton.on(cc.Node.EventType.TOUCH_START, function (event) {\r\n            self.nodeBlock.getComponent(\"PuyoDown\").nDownSpeed = 4;\r\n        }, this);\r\n        //当手指离开下落节点上时\r\n        this.nodeDownButton.on(cc.Node.EventType.TOUCH_END, function (event) {\r\n            self.nodeBlock.getComponent(\"PuyoDown\").nDownSpeed = 24;\r\n\r\n        }, this);\r\n        //   //初始化下落数组\r\n        //   this.arrayDown=[];\r\n        //  for(var i=0;i<=11;i++)\r\n        //  {\r\n        //      for(var j=0;j<=5;j++)\r\n        //      {\r\n        //          cc.log( this.userGroundChild[j][i].getPosition());\r\n        //      }\r\n        //  }\r\n    },\r\n    //执行贝塞尔动作后初始化动作位置\r\n    RotateLoadPosition: function () {\r\n        var child = this.nodeBlock.getChildren();\r\n        child[1].setPosition(this.positionRotateX, this.positionRotateY);\r\n        // cc.log();\r\n    },\r\n    onKeyDown: function (event) {\r\n        var self = this;\r\n        switch (event.keyCode) {\r\n            case cc.KEY.a:\r\n                self.MoveLeft();\r\n                break;\r\n            case cc.KEY.d:\r\n                self.MoveRight();\r\n                break;\r\n            case cc.KEY.s:\r\n                self.DownQuick();\r\n                break;\r\n            case cc.KEY.l:\r\n                self.RotatePuYo();\r\n                break;\r\n        }\r\n    },\r\n\r\n    //旋转噗呦块\r\n    RotatePuYo: function () {\r\n        cc.log(this.nodeBlock.getComponent(\"PuyoDown\").stringBoloekShape + \"9999999999999999999999\");\r\n        switch (this.nodeBlock.getComponent(\"PuyoDown\").stringBoloekShape) {\r\n            case \"Long\":\r\n                if (this.nodeBlock.getComponent(\"PuyoDown\").nColor == 1) {\r\n                    this.RotateActioin();\r\n                }\r\n                else {\r\n                    this.RotateLongShape();\r\n                }\r\n                break;\r\n            case \"L\":\r\n                this.RotateActioin();\r\n                break;\r\n            case \"Square\":\r\n                if (this.nodeBlock.getComponent(\"PuyoDown\").nColor == 1) {\r\n                    this.ChangePuyoColor();\r\n                }\r\n                else {\r\n                    this.RotateActioin();\r\n                }\r\n                break;\r\n        }\r\n    },\r\n    //快速下落\r\n    DownQuick: function () {\r\n        this.nodeBlock.getComponent(\"PuyoDown\").isDown = true;\r\n    },\r\n    LoadPosition: function (target, jsonMsg) {\r\n        jsonMsg.node.setPosition(jsonMsg.positionX, jsonMsg.positionY);\r\n    },\r\n    //初始化旋转开关\r\n    OnloadRotate: function () {\r\n        this.isRotate = false;\r\n    },\r\n    //根据噗呦块在父体中的坐标转化成背景的本地坐标\r\n    ChangeNodePositionY: function (positionY) {\r\n        var nodePositionGroundY = positionY + this.nodeBlock.getPositionY() - cc.find(\"GroundParent\").getPositionY();\r\n        return nodePositionGroundY;\r\n    },\r\n    ChangeNodePositionX: function (positionX) {\r\n        var nodePositionGroundX = positionX + this.nodeBlock.getPositionY() - cc.find(\"GroundParent\").getPositionX();\r\n        return nodePositionGroundX;\r\n    },\r\n    //执行旋转动作后初始化噗呦块角度\r\n    LodaRotation: function (nAngle) {\r\n        this.nodeBlock.rotation = nAngle;\r\n    },\r\n    //改变四个颜色一样的噗呦快的颜色\r\n    ChangePuyoColor: function () {\r\n        var nodeBlockChild = this.nodeBlock.getChildren();\r\n        switch (nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor) {\r\n            case \"red\":\r\n                for (var i = 0; i <= 3; i++) {\r\n                    nodeBlockChild[i].getComponent(cc.Animation).play(\"ChangeGreen\");\r\n                    nodeBlockChild[i].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                }\r\n                break;\r\n            case \"blue\":\r\n                for (var i = 0; i <= 3; i++) {\r\n                    nodeBlockChild[i].getComponent(cc.Animation).play(\"ChangeRed\");\r\n                    nodeBlockChild[i].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                }\r\n                break;\r\n            case \"green\":\r\n                for (var i = 0; i <= 3; i++) {\r\n                    nodeBlockChild[i].getComponent(cc.Animation).play(\"ChangeBlue\");\r\n                    nodeBlockChild[i].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                }\r\n                break;\r\n        }\r\n\r\n    },\r\n    //根据旋转动作旋转\r\n    RotateActioin: function () {\r\n        if (this.isRotate == false) {\r\n            this.isRotate = true;\r\n            this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle += 90;\r\n            if (this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle == 360) {\r\n                this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle = 0;\r\n            }\r\n            //初始化旋转动作\r\n            var actionRotate = cc.rotateTo(0.05, this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle);\r\n            //初始化旋转开关动作\r\n            var callRotate = cc.callFunc(this.OnloadRotate, this);\r\n            //执行旋转动作\r\n            this.nodeBlock.runAction(cc.sequence(actionRotate, callRotate));\r\n        }\r\n    },\r\n    //根据诶塞尔旋转噗呦块\r\n    RotateLong: function () {\r\n        var child = this.nodeBlock.getChildren();\r\n        var bezier = [cc.p(child[1].getPositionX(), child[1].getPositionY()), cc.p(Global.nWidthPuYo * Math.cos(Math.PI / 4 - Math.PI / 2 * this.nRotateLong), Global.nWidthPuYo * Math.sin(Math.PI / 4 - Math.PI / 2 * this.nRotateLong)), cc.p(child[1].getPositionY(), -child[1].getPositionX())];\r\n        this.nRotateLong++;\r\n        var bezierAction = cc.bezierTo(0.06, bezier);\r\n        var loadPositionAction = cc.callFunc(this.RotateLoadPosition, this);\r\n        //初始化旋转开关动作\r\n        var callRotate = cc.callFunc(this.OnloadRotate, this);\r\n        child[1].runAction(cc.sequence(bezierAction, loadPositionAction, callRotate));\r\n        this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle += 90;\r\n        if (this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle == 360) {\r\n            this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle = 0;\r\n        }\r\n\r\n    },\r\n    //根据贝塞尔曲线旋转long型\r\n    RotateLongShape: function () {\r\n        if (this.isRotate == false) {\r\n            this.isRotate = true;\r\n            var child = this.nodeBlock.getChildren();\r\n            //计算旋转后噗呦块的行数\r\n            // child[1].setPosition(Number(child[1].getPositionX().toFixed(0)),Number(child[1].getPositionY().toFixed(0)));\r\n\r\n            this.positionRotateX = child[1].getPositionY();\r\n            this.positionRotateY = -child[1].getPositionX();\r\n            //根据坐标计算出行列\r\n            var nLine = (this.positionRotateX + this.nodeBlock.getPositionX() - cc.find(\"GroundParent\").getPositionX()) / Global.nWidthPuYo + 1;\r\n            var nRow = (this.positionRotateY + this.nodeBlock.getPositionY() - cc.find(\"GroundParent\").getPositionY()) / Global.nWidthPuYo + 1;\r\n            if (nLine > 6) {\r\n                cc.log(\"RotateLongShape\");\r\n                var actionMoveLeft = cc.moveBy(0.06, cc.p(-Global.nWidthPuYo, child[1].getPositionY()));\r\n                //初始化位置i\r\n                var loadPosition1 = cc.callFunc(this.LoadPosition, this, { \"node\": child[1], \"positionX\": child[1].getPositionX() - Global.nWidthPuYo, \"positionY\": child[1].getPositionY() });\r\n                var loadPosition0 = cc.callFunc(this.LoadPosition, this, { \"node\": child[0], \"positionX\": child[0].getPositionX() - Global.nWidthPuYo, \"positionY\": child[0].getPositionY() });\r\n                var actionRotate1 = cc.callFunc(this.RotateLong, this);\r\n                child[1].runAction(cc.spawn(cc.sequence(actionMoveLeft, loadPosition1), actionRotate1));\r\n                child[0].runAction(cc.sequence(actionMoveLeft, loadPosition0));\r\n            }\r\n            if (nLine < 0) {\r\n                var actionMoveLeft = cc.moveBy(0.06, cc.p(Global.nWidthPuYo, this.nodeBlock.getPositionY()));\r\n                //初始化位置i\r\n                var loadPosition1 = cc.callFunc(this.LoadPosition, this, { \"node\": this.nodeBlock, \"positionX\": this.nodeBlock.getPositionX() + Global.nWidthPuYo, \"positionY\": this.nodeBlock.getPositionY() });\r\n                this.nodeBlock.runAction(cc.sequence(actionMoveLeft, loadPosition1));\r\n            }\r\n            this.RotateLong();\r\n        }\r\n    },\r\n    //遍历待下落数组,并判断是否可销毁\r\n    IsDestroy: function () {\r\n        var arrayBox = this.boxParent.getChildren();\r\n        //初始化销毁数组\r\n        this.arrayDestroy = [];\r\n      \r\n        for (var i = 0; i <= this.arrayPositionX.length - 1; i++) {\r\n            //初始化待销毁数组\r\n            this.arrayDestroyWait = [];\r\n            for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                if (arrayBox[j].getPositionX() == this.arrayPositionX[i] && arrayBox[j].getPositionY() == this.arrayPositionY[i]) {\r\n                    this.DestroyNode(this.CountRow(this.arrayPositionY[i]), this.CountLine(this.arrayPositionX[i]), j);\r\n                    break;\r\n                }\r\n            }\r\n            if (i == this.arrayPositionX.length - 1) {\r\n                if (this.arrayDestroy.length != 0) {\r\n                    cc.log(this.arrayDestroy.length+\"IsDestroy\");\r\n                    for (var j = 0; j <= this.arrayDestroy.length - 1; j++) {  \r\n                        cc.log(this.arrayDestroy[j].getPositionX() + \"IsDestroy\");\r\n                        cc.log(this.arrayDestroy[j].getPositionY() + \"IsDestroy\");\r\n                        this.userGroundChild[this.CountLine(this.arrayDestroy[j].getPositionX())][this.CountRow(this.arrayDestroy[j].getPositionY())].getComponent(\"BoxState\").stringColor = \"\";\r\n                        this.userGroundChild[this.CountLine(this.arrayDestroy[j].getPositionX())][this.CountRow(this.arrayDestroy[j].getPositionY())].getComponent(\"BoxState\").isBox = false;\r\n                        this.arrayDestroy[j].setPosition(-1000, -1000);\r\n                        this.arrayDestroy[j].destroy();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    //把铺有块加入待消数组\r\n    //根据普邮快的行列向上，下，左，右遍历，并销毁节点\r\n    DestroyNode: function (nRow, nLine, nSign) {\r\n        //存取此普邮块的颜色\r\n        var stringColor = this.userGroundChild[nLine][nRow].getComponent(\"BoxState\").stringColor;\r\n        var arrayBox = this.boxParent.getChildren();\r\n        var isFind=false;\r\n        //向上遍历\r\n        for (var i = nRow + 1; i <= 11; i++) {\r\n            if(isFind)\r\n            {\r\n                break;\r\n            }\r\n            if (stringColor == this.userGroundChild[nLine][i].getComponent(\"BoxState\").stringColor) {\r\n                if (this.arrayDestroyWait.length == 0) {\r\n                    this.arrayDestroyWait.push(arrayBox[nSign]);\r\n                    for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                        if (arrayBox[j].getPositionX() == this.userGroundChild[nLine][i].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[nLine][i].getPositionY()) {\r\n                            // cc.log(j+\"DestroyNode\");\r\n                            this.arrayDestroyWait.push(arrayBox[j]);\r\n                            this.DestroyNode(i, nLine, j);\r\n                            isFind=true;\r\n                            break;\r\n                            // continue signdown;\r\n                            // return;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //判断待消数列中是否含有此铺有块\r\n                    var isHas = false;\r\n                    for (var j = 0; j <= this.arrayDestroyWait.length - 1; j++) {\r\n                        if (this.arrayDestroyWait[j].getPositionX() == this.userGroundChild[nLine][i].getPositionX() && this.arrayDestroyWait[j].getPositionY() == this.userGroundChild[nLine][i].getPositionY()) {\r\n                            isHas = true;\r\n                        }\r\n                    }\r\n                    if (isHas) {\r\n                        break;\r\n                    }\r\n                    else {\r\n                        for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                            if (arrayBox[j].getPositionX() == this.userGroundChild[nLine][i].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[nLine][i].getPositionY()) {\r\n                                this.arrayDestroyWait.push(arrayBox[j]);\r\n                                this.DestroyNode(i, nLine, j);\r\n                                isFind=true;\r\n                                break;\r\n                                // return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        var isFind=false;\r\n        //向下遍历\r\n        for (var i = nRow - 1; i >= 0; i--) {\r\n            if(isFind)\r\n            {\r\n                break;\r\n            }\r\n            if (stringColor == this.userGroundChild[nLine][i].getComponent(\"BoxState\").stringColor) {\r\n                if (this.arrayDestroyWait.length == 0) {\r\n                    this.arrayDestroyWait.push(arrayBox[nSign]);\r\n                    for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                        if (arrayBox[j].getPositionX() == this.userGroundChild[nLine][i].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[nLine][i].getPositionY()) {\r\n                            this.arrayDestroyWait.push(arrayBox[j]);\r\n                            this.DestroyNode(i, nLine, j);\r\n                            isFind=true;\r\n                                break;\r\n                            // return;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //判断待消数列中是否含有此铺有块\r\n                    var isHas = false;\r\n                    for (var j = 0; j <= this.arrayDestroyWait.length - 1; j++) {\r\n                        if (this.arrayDestroyWait[j].getPositionX() == this.userGroundChild[nLine][i].getPositionX() && this.arrayDestroyWait[j].getPositionY() == this.userGroundChild[nLine][i].getPositionY()) {\r\n                            isHas = true;\r\n                        }\r\n                    }\r\n                    if (isHas) {\r\n                        break;\r\n                    }\r\n                    else {\r\n                        for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                            if (arrayBox[j].getPositionX() == this.userGroundChild[nLine][i].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[nLine][i].getPositionY()) {\r\n                                this.arrayDestroyWait.push(arrayBox[j]);\r\n                                this.DestroyNode(i, nLine, j);\r\n                                isFind=true;\r\n                                break;\r\n                                // return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        var isFind=false;\r\n        //向左遍历 \r\n        for (var i = nLine - 1; i >= 0; i--) {\r\n            if(isFind)\r\n            {\r\n                break;\r\n            }\r\n            if (stringColor == this.userGroundChild[i][nRow].getComponent(\"BoxState\").stringColor) {\r\n                if (this.arrayDestroyWait.length == 0) {\r\n                    this.arrayDestroyWait.push(arrayBox[nSign]);\r\n                    for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                        if (arrayBox[j].getPositionX() == this.userGroundChild[i][nRow].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[i][nRow].getPositionY()) {\r\n                            this.arrayDestroyWait.push(arrayBox[j]);\r\n                            this.DestroyNode(nRow, i, j);\r\n                            isFind=true;\r\n                                break;\r\n                            // return;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //判断待消数列中是否含有此铺有块\r\n                    var isHas = false;\r\n                    for (var j = 0; j <= this.arrayDestroyWait.length - 1; j++) {\r\n                        if (this.arrayDestroyWait[j].getPositionX() == this.userGroundChild[i][nRow].getPositionX() && this.arrayDestroyWait[j].getPositionY() == this.userGroundChild[i][nRow].getPositionY()) {\r\n                            isHas = true;\r\n                        }\r\n                    }\r\n                    if (isHas) {\r\n                        break;\r\n                    }\r\n                    else {\r\n                        for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                            if (arrayBox[j].getPositionX() == this.userGroundChild[i][nRow].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[i][nRow].getPositionY()) {\r\n                                this.arrayDestroyWait.push(arrayBox[j]);\r\n                                this.DestroyNode(nRow, i, j);\r\n                                isFind=true;\r\n                                break;\r\n                                // return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        //向右遍历\r\n        for (var i = nLine + 1; i <= 5; i++) {\r\n            if (stringColor == this.userGroundChild[i][nRow].getComponent(\"BoxState\").stringColor) {\r\n                if (this.arrayDestroyWait.length == 0) {\r\n                    this.arrayDestroyWait.push(arrayBox[nSign]);\r\n                    for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                        if (arrayBox[j].getPositionX() == this.userGroundChild[i][nRow].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[i][nRow].getPositionY()) {\r\n                            this.arrayDestroyWait.push(arrayBox[j]);\r\n                            this.DestroyNode(nRow, i, j);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //判断待消数列中是否含有此铺有块\r\n                    var isHas = false;\r\n                    for (var j = 0; j <= this.arrayDestroyWait.length - 1; j++) {\r\n                        if (this.arrayDestroyWait[j].getPositionX() == this.userGroundChild[i][nRow].getPositionX() && this.arrayDestroyWait[j].getPositionY() == this.userGroundChild[i][nRow].getPositionY()) {\r\n                            isHas = true;\r\n                        }\r\n                    }\r\n                    if (isHas) {\r\n                        break;\r\n                    }\r\n                    else {\r\n                        for (var j = 0; j <= arrayBox.length - 1; j++) {\r\n                            if (arrayBox[j].getPositionX() == this.userGroundChild[i][nRow].getPositionX() && arrayBox[j].getPositionY() == this.userGroundChild[i][nRow].getPositionY()) {\r\n                                this.arrayDestroyWait.push(arrayBox[j]);\r\n                                this.DestroyNode(nRow, i, j);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        cc.log(\"DestroyNode\" + this.arrayDestroyWait.length);\r\n        if (this.arrayDestroyWait.length >= 4) {\r\n            if(this.arrayDestroy.length!=0)\r\n            {\r\n                for(var j=0;j<=this.arrayDestroy.length-1;j++)\r\n                {\r\n                    var isHas=false;\r\n                    for (var i = 0; i <= this.arrayDestroyWait.length - 1; i++) {\r\n                        if(this.arrayDestroy[j].getPositionX()==this.arrayDestroyWait[i].getPositionX()&&this.arrayDestroy[j].getPositionY()==this.arrayDestroyWait[i].getPositionY())\r\n                        {\r\n                            isHas=true;\r\n                        }\r\n                        if(i== this.arrayDestroyWait.length - 1&&isHas==false)\r\n                        {\r\n                            this.arrayDestroy.push(this.arrayDestroyWait[i]);\r\n                        }\r\n                        // cc.log(this.arrayDestroy[i].getPositionX()+\"DestroyNode\");\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                for (var i = 0; i <= this.arrayDestroyWait.length - 1; i++) {\r\n                    this.arrayDestroy.push(this.arrayDestroyWait[i]);\r\n                    // cc.log(this.arrayDestroy[i].getPositionX()+\"DestroyNode\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    // //打开下落动作执行完成开关\r\n    // StartActionDown:function(){\r\n    //     this.isActionDown=true;\r\n    // },\r\n    //执行压缩变形移动动作\r\n    ActionChangeShape: function (arrayChangeShape, fScale) {\r\n        cc.log(arrayChangeShape.length + \"arrayChangeShape\");\r\n        //初始化压缩形变动作\r\n        var actionChangeShape = cc.scaleTo(this.fChangeShape, 1, fScale);\r\n        //初始化恢复形变\r\n        var actionResumeShape = cc.scaleTo(this.fChangeShape, 1, 1);\r\n        //初始化存取噗呦块横坐标数组\r\n        var arrayX = [];\r\n        //初始化存取噗呦块纵坐标数组\r\n        var arrayY = [];\r\n        for (var i = 0; i <= arrayChangeShape.length - 1; i++) {\r\n            arrayX.push(arrayChangeShape[i].getPositionX());\r\n            arrayY.push(arrayChangeShape[i].getPositionY());\r\n        }\r\n        //遍历数组存取初始位置\r\n        for (var i = 0; i <= arrayChangeShape.length - 1; i++) {\r\n            //初始化该块向下移动的距离\r\n            var nDownDistance = (1 + 2 * (arrayChangeShape.length - (i + 1))) * Global.nWidthPuYo * (1 - fScale) / 2;\r\n            //初始化向下移动动作\r\n            var actionMoveDown = cc.moveBy(this.fChangeShape, cc.p(0, -nDownDistance));\r\n            //初始化向上移动动作\r\n            var actionMoveUp = cc.moveBy(this.fChangeShape, cc.p(0, nDownDistance));\r\n            //完成动作后初始化位置\r\n            // var onloadPosition = cc.callFunc(this.LoadPosition(arrayChangeShape[i], arrayX[i], arrayY[i]));\r\n            var onloadPosition = cc.callFunc(this.LoadPosition, this, { \"node\": arrayChangeShape[i], \"positionX\": arrayX[i], \"positionY\": arrayY[i] });\r\n            if (i == arrayChangeShape.length - 1) {\r\n                var actionStartShape = cc.callFunc(this.StartActionShape, this);\r\n                //执行动作\r\n                arrayChangeShape[i].runAction(cc.sequence(cc.spawn(actionChangeShape, actionMoveDown), cc.spawn(actionResumeShape, actionMoveUp), onloadPosition, actionStartShape));\r\n            }\r\n            else {\r\n                // var actionStartShape = cc.callFunc(this.StartActionShape, this);\r\n                //执行动作\r\n                arrayChangeShape[i].runAction(cc.sequence(cc.spawn(actionChangeShape, actionMoveDown), cc.spawn(actionResumeShape, actionMoveUp), onloadPosition));\r\n            }\r\n            //   arrayChangeShape[i].runAction(cc.sequence(cc.spawn(actionChangeShape, actionMoveDown), onloadPosition));\r\n        }\r\n    },\r\n    //打开形变动作完成开管\r\n    StartActionShape: function () {\r\n        this.nChangeShape++\r\n    },\r\n    //从该噗呦块向下遍历并移动压缩变形\r\n    ChangeShape: function (target, msgJson) {\r\n        cc.log(\"ChangeShape\" + msgJson.nRow);\r\n        var boxParent1 = this.boxParent.getChildren();\r\n        //初始化待变形数组\r\n        this.arrayChangeShape = [];\r\n        for (var i = msgJson.nRow; i >= 0; i--) {\r\n            if (this.userGroundChild[msgJson.nLine][i].getComponent(\"BoxState\").isBox) {\r\n                for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                    if (boxParent1[l].getPositionY() == this.userGroundChild[msgJson.nLine][i].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[msgJson.nLine][i].getPositionX()) {\r\n                        this.arrayChangeShape.push(boxParent1[l]);\r\n                    }\r\n                }\r\n            }\r\n            if (i == 0) {\r\n                this.ActionChangeShape(this.arrayChangeShape, this.fScaleChange);\r\n            }\r\n        }\r\n    },\r\n    //打开下落动完成开关\r\n    StartActionDown: function () {\r\n        this.isActionDown = true;\r\n    },\r\n    //消除噗呦块后，上边的噗呦块下落\r\n    DestroyDown:function(nRow,nLine){\r\n        cc.log(nRow + \"BoxDown\");\r\n        var boxParent1 = this.boxParent.getChildren();\r\n        //存取该噗呦块的行\r\n        var nRow1 = nRow;\r\n        for (var i = nRow - 1; i >= 0; i--) {\r\n            if (this.userGroundChild[nLine][i].getComponent(\"BoxState\").isBox) {\r\n                 //初始化下落动作\r\n                 var actionDown = cc.moveTo(this.fActionDown, cc.p(this.userGroundChild[nLine][i + 1].getPositionX(), this.userGroundChild[nLine][i + 1].getPositionY()));\r\n                 //执行变换图片动画，下落到最低点移动压缩变形\r\n                 //从方块数组中找到噗呦块\r\n                 for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                     //执行变换图片动画，并移动压缩变形sssssssssssssss\r\n                     if (boxParent1[l].getPositionY() == this.userGroundChild[nLine][nRow1].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[nLine][nRow1].getPositionX()) {\r\n                         boxParent1[l].rotation = 0;\r\n                         // //播放变换噗呦小块动画\r\n                         // boxParent1[l].getComponent(cc.Animation).play(\"1\");\r\n                         //初始位置回调\r\n                         // var loadPosition = cc.callFunc(this.LoadPosition(boxParent1[l], this.userGroundChild[nLine][i + 1], this.userGroundChild[nLine][i + 1].getPositionY()));\r\n                         var loadPosition = cc.callFunc(this.LoadPosition, this, { \"node\": boxParent1[l], \"positionX\": this.userGroundChild[nLine][i + 1].getPositionX(), \"positionY\": this.userGroundChild[nLine][i + 1].getPositionY() });\r\n                         //下落变形回调函数\r\n                         var changeShape1 = cc.callFunc(this.changeShape, this, { \"nRow\": i + 1, \"nLine\": nLine });\r\n                         var isChangeShape = false;\r\n                         for (var p = 0; p <= this.arrayChange.length - 1; p++) {\r\n                             if (this.arrayDown[this.arrayChange[p]].getPositionX() == boxParent1[l].getPositionX() && this.arrayDown[this.arrayChange[p]].getPositionY() == boxParent1[l].getPositionY()) {\r\n                                 isChangeShape = true;\r\n\r\n                             }\r\n                         }\r\n                         this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").isBox = false;\r\n                         this.userGroundChild[nLine][i + 1].getComponent(\"BoxState\").isBox = true;\r\n                         this.userGroundChild[nLine][i + 1].getComponent(\"BoxState\").stringColor = boxParent1[l].getComponent(\"InitPrefabState\").stringColor;\r\n                         this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").stringColor = \"\";\r\n                         if (isChangeShape) {\r\n                             var startChange = cc.callFunc(this.StartActionDown, this);\r\n                             boxParent1[l].runAction(cc.sequence(actionDown, loadPosition, startChange));\r\n                             //存取下落后待压缩噗呦块的行,列\r\n                             this.nRow2 = i + 1;\r\n                             this.nLine2 = nLine;\r\n                         }\r\n                         else {\r\n                             boxParent1[l].runAction(cc.sequence(actionDown, loadPosition));\r\n                         }\r\n                     }\r\n                 }\r\n                break;\r\n            }\r\n            if (i == 0 && this.userGroundChild[nLine][0].getComponent(\"BoxState\").isBox == false) {\r\n                //初始化下落动作\r\n                var actionDown = cc.moveTo(this.fActionDown, cc.p(this.userGroundChild[nLine][0].getPositionX(), this.userGroundChild[nLine][0].getPositionY()));\r\n                //执行变换图片动画，下落到最低点移动压缩变形\r\n                //从方块数组中找到噗呦块\r\n                for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                    //执行变换图片动画，并移动压缩变形sssssssssssssss\r\n                    if (boxParent1[l].getPositionY() == this.userGroundChild[nLine][nRow1].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[nLine][nRow1].getPositionX()) {\r\n                        boxParent1[l].rotation = 0;\r\n                        // //播放变换噗呦小块动画\r\n                        // boxParent1[l].getComponent(cc.Animation).play(\"1\");\r\n                        //初始位置回调\r\n                        // var loadPosition = cc.callFunc(this.LoadPosition(boxParent1[l], this.userGroundChild[nLine][i + 1], this.userGroundChild[nLine][i + 1].getPositionY()));\r\n                        var loadPosition = cc.callFunc(this.LoadPosition, this, { \"node\": boxParent1[l], \"positionX\": this.userGroundChild[nLine][0].getPositionX(), \"positionY\": this.userGroundChild[nLine][0].getPositionY() });\r\n                        //下落变形回调函数\r\n                        var changeShape1 = cc.callFunc(this.changeShape, this, { \"nRow\": 0, \"nLine\": nLine });\r\n                        var isChangeShape = false;\r\n                        for (var p = 0; p <= this.arrayChange.length - 1; p++) {\r\n                            if (this.arrayDown[this.arrayChange[p]].getPositionX() == boxParent1[l].getPositionX() && this.arrayDown[this.arrayChange[p]].getPositionY() == boxParent1[l].getPositionY()) {\r\n                                isChangeShape = true;\r\n                            }\r\n                        }\r\n                        this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").isBox = false;\r\n                        this.userGroundChild[nLine][0].getComponent(\"BoxState\").isBox = true;\r\n                        this.userGroundChild[nLine][0].getComponent(\"BoxState\").stringColor = boxParent1[l].getComponent(\"InitPrefabState\").stringColor;\r\n                        this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").stringColor = \"\";\r\n                        // boxParent1[l].runAction(cc.sequence(actionDown, loadPosition));\r\n                        if (isChangeShape) {\r\n                            var startChange = cc.callFunc(this.StartActionDown, this);\r\n                            boxParent1[l].runAction(cc.sequence(actionDown, loadPosition, startChange));\r\n                            //存取下落后待压缩噗呦块的行,列\r\n                            this.nRow2 = 0;\r\n                            this.nLine2 = nLine;\r\n                        }\r\n                        else {\r\n                            boxParent1[l].runAction(cc.sequence(actionDown, loadPosition));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    },\r\n    //从该方块向下便利并下落\r\n    BoxDown: function (nRow, nLine) {\r\n        cc.log(nRow + \"BoxDown\");\r\n        var boxParent1 = this.boxParent.getChildren();\r\n        //存取该噗呦块的行\r\n        var nRow1 = nRow;\r\n        if (nRow == 0) {\r\n            //从方块数组中找到噗呦块\r\n            for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                //执行变换图片动画，并移动压缩变形\r\n                if (boxParent1[l].getPositionY() == this.userGroundChild[nLine][0].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[nLine][0].getPositionX()) {\r\n                    this.userGroundChild[nLine][0].getComponent(\"BoxState\").isBox = true;\r\n                    this.userGroundChild[nLine][0].getComponent(\"BoxState\").stringColor = boxParent1[l].getComponent(\"InitPrefabState\").stringColor;\r\n                    //初始化噗呦块角度\r\n                    boxParent1[l].rotation = 0;\r\n                    // //播放变换噗呦小块动画\r\n                    // boxParent1[l].getComponent(cc.Animation).play(\"1\");\r\n                    var isChangeShape = false;  //是否变形判断\r\n                    for (var p = 0; p <= this.arrayChange.length - 1; p++) {\r\n                        if (this.arrayDown[this.arrayChange[p]].getPositionX() == boxParent1[l].getPositionX() && this.arrayDown[this.arrayChange[p]].getPositionY() == boxParent1[l].getPositionY()) {\r\n                            isChangeShape = true;\r\n                        }\r\n                    }\r\n                    if (isChangeShape) {\r\n                        //执行压缩变形\r\n                        this.ChangeShape(this, { \"nRow\": 0, \"nLine\": nLine });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var i = nRow - 1; i >= 0; i--) {\r\n                if (this.userGroundChild[nLine][i].getComponent(\"BoxState\").isBox) {\r\n                    if (nRow1 - i <= 1) {\r\n                        //从方块数组中找到噗呦块\r\n                        for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                            //执行变换图片动画，并移动压缩变形\r\n                            if (boxParent1[l].getPositionY() == this.userGroundChild[nLine][nRow1].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[nLine][nRow1].getPositionX()) {\r\n                                this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").isBox = true;\r\n                                this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").stringColor = boxParent1[l].getComponent(\"InitPrefabState\").stringColor;\r\n                                boxParent1[l].rotation = 0;\r\n                                // //播放变换噗呦小块动画\r\n                                // boxParent1[l].getComponent(cc.Animation).play(\"1\");\r\n                                var isChangeShape = false;\r\n                                for (var p = 0; p <= this.arrayChange.length - 1; p++) {\r\n                                    if (this.arrayDown[this.arrayChange[p]].getPositionX() == boxParent1[l].getPositionX() && this.arrayDown[this.arrayChange[p]].getPositionY() == boxParent1[l].getPositionY()) {\r\n                                        isChangeShape = true;\r\n                                    }\r\n                                }\r\n                                if (isChangeShape) {\r\n                                    cc.log(\"===================1111111111111111111111111111\");\r\n                                    //执行压缩变形\r\n                                    this.ChangeShape(this, { \"nRow\": nRow1, \"nLine\": nLine });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        cc.log(\"////////////////////////\");\r\n                        //初始化下落动作\r\n                        var actionDown = cc.moveTo(this.fActionDown, cc.p(this.userGroundChild[nLine][i + 1].getPositionX(), this.userGroundChild[nLine][i + 1].getPositionY()));\r\n                        //执行变换图片动画，下落到最低点移动压缩变形\r\n                        //从方块数组中找到噗呦块\r\n                        for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                            //执行变换图片动画，并移动压缩变形sssssssssssssss\r\n                            if (boxParent1[l].getPositionY() == this.userGroundChild[nLine][nRow1].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[nLine][nRow1].getPositionX()) {\r\n                                boxParent1[l].rotation = 0;\r\n                                // //播放变换噗呦小块动画\r\n                                // boxParent1[l].getComponent(cc.Animation).play(\"1\");\r\n                                //初始位置回调\r\n                                // var loadPosition = cc.callFunc(this.LoadPosition(boxParent1[l], this.userGroundChild[nLine][i + 1], this.userGroundChild[nLine][i + 1].getPositionY()));\r\n                                var loadPosition = cc.callFunc(this.LoadPosition, this, { \"node\": boxParent1[l], \"positionX\": this.userGroundChild[nLine][i + 1].getPositionX(), \"positionY\": this.userGroundChild[nLine][i + 1].getPositionY() });\r\n                                //下落变形回调函数\r\n                                var changeShape1 = cc.callFunc(this.changeShape, this, { \"nRow\": i + 1, \"nLine\": nLine });\r\n                                var isChangeShape = false;\r\n                                for (var p = 0; p <= this.arrayChange.length - 1; p++) {\r\n                                    if (this.arrayDown[this.arrayChange[p]].getPositionX() == boxParent1[l].getPositionX() && this.arrayDown[this.arrayChange[p]].getPositionY() == boxParent1[l].getPositionY()) {\r\n                                        isChangeShape = true;\r\n\r\n                                    }\r\n                                }\r\n                                this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").isBox = false;\r\n                                this.userGroundChild[nLine][i + 1].getComponent(\"BoxState\").isBox = true;\r\n                                this.userGroundChild[nLine][i + 1].getComponent(\"BoxState\").stringColor = boxParent1[l].getComponent(\"InitPrefabState\").stringColor;\r\n                                this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").stringColor = \"\";\r\n                                if (isChangeShape) {\r\n                                    var startChange = cc.callFunc(this.StartActionDown, this);\r\n                                    boxParent1[l].runAction(cc.sequence(actionDown, loadPosition, startChange));\r\n                                    //存取下落后待压缩噗呦块的行,列\r\n                                    this.nRow2 = i + 1;\r\n                                    this.nLine2 = nLine;\r\n                                }\r\n                                else {\r\n                                    boxParent1[l].runAction(cc.sequence(actionDown, loadPosition));\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                if (i == 0 && this.userGroundChild[nLine][0].getComponent(\"BoxState\").isBox == false) {\r\n                    //初始化下落动作\r\n                    var actionDown = cc.moveTo(this.fActionDown, cc.p(this.userGroundChild[nLine][0].getPositionX(), this.userGroundChild[nLine][0].getPositionY()));\r\n                    //执行变换图片动画，下落到最低点移动压缩变形\r\n                    //从方块数组中找到噗呦块\r\n                    for (var l = 0; l <= boxParent1.length - 1; l++) {\r\n                        //执行变换图片动画，并移动压缩变形sssssssssssssss\r\n                        if (boxParent1[l].getPositionY() == this.userGroundChild[nLine][nRow1].getPositionY() && boxParent1[l].getPositionX() == this.userGroundChild[nLine][nRow1].getPositionX()) {\r\n                            boxParent1[l].rotation = 0;\r\n                            // //播放变换噗呦小块动画\r\n                            // boxParent1[l].getComponent(cc.Animation).play(\"1\");\r\n                            //初始位置回调\r\n                            // var loadPosition = cc.callFunc(this.LoadPosition(boxParent1[l], this.userGroundChild[nLine][i + 1], this.userGroundChild[nLine][i + 1].getPositionY()));\r\n                            var loadPosition = cc.callFunc(this.LoadPosition, this, { \"node\": boxParent1[l], \"positionX\": this.userGroundChild[nLine][0].getPositionX(), \"positionY\": this.userGroundChild[nLine][0].getPositionY() });\r\n                            //下落变形回调函数\r\n                            var changeShape1 = cc.callFunc(this.changeShape, this, { \"nRow\": 0, \"nLine\": nLine });\r\n                            var isChangeShape = false;\r\n                            for (var p = 0; p <= this.arrayChange.length - 1; p++) {\r\n                                if (this.arrayDown[this.arrayChange[p]].getPositionX() == boxParent1[l].getPositionX() && this.arrayDown[this.arrayChange[p]].getPositionY() == boxParent1[l].getPositionY()) {\r\n                                    isChangeShape = true;\r\n                                }\r\n                            }\r\n                            this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").isBox = false;\r\n                            this.userGroundChild[nLine][0].getComponent(\"BoxState\").isBox = true;\r\n                            this.userGroundChild[nLine][0].getComponent(\"BoxState\").stringColor = boxParent1[l].getComponent(\"InitPrefabState\").stringColor;\r\n                            this.userGroundChild[nLine][nRow1].getComponent(\"BoxState\").stringColor = \"\";\r\n                            // boxParent1[l].runAction(cc.sequence(actionDown, loadPosition));\r\n                            if (isChangeShape) {\r\n                                var startChange = cc.callFunc(this.StartActionDown, this);\r\n                                boxParent1[l].runAction(cc.sequence(actionDown, loadPosition, startChange));\r\n                                //存取下落后待压缩噗呦块的行,列\r\n                                this.nRow2 = 0;\r\n                                this.nLine2 = nLine;\r\n                            }\r\n                            else {\r\n                                boxParent1[l].runAction(cc.sequence(actionDown, loadPosition));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    //根据行列遍历背景方格的颜色,并消除\r\n    DisappearBox: function () {\r\n    },\r\n    //根据下落噗呦行列判断可消除噗呦块的行列\r\n    GetDisappearBox: function () {\r\n    },\r\n    //随机生成噗呦噗呦方块\r\n    GetBlock: function () {\r\n        //根据随机数随机设置方块的颜色数量\r\n        var nRandomNum = Math.floor(cc.random0To1() * 2);\r\n        this.nColor = 0;\r\n        this.stringColor = \"\";\r\n        this.stringColor1 = \"\";\r\n       \r\n        if (nRandomNum == 1) {\r\n            //颜色数量\r\n            this.nColor1 = 1;\r\n            //随机颜色\r\n            var stringRandom = Math.floor(cc.random0To1() * 3);\r\n            switch (stringRandom) {\r\n                //随机颜色为红色\r\n                case 0:\r\n                    this.stringColor = \"red\";\r\n                    break;\r\n                //随机颜色为蓝色\r\n                case 1:\r\n                    this.stringColor = \"blue\";\r\n                    break;\r\n                //随机颜色为绿色\r\n                case 2:\r\n                    this.stringColor = \"green\";\r\n                    break;\r\n            }\r\n        }\r\n        else {\r\n            this.nColor1 = 2;\r\n            //随机颜色\r\n            var stringRandom = Math.floor(cc.random0To1() * 3);\r\n            cc.log(stringRandom);\r\n            switch (stringRandom) {\r\n                case 0:\r\n                    this.stringColor = \"blue\";\r\n                    this.stringColor1 = \"green\";\r\n                    break;\r\n                case 1:\r\n                    this.stringColor = \"red\";\r\n                    this.stringColor1 = \"green\";\r\n                    break;\r\n                case 2:\r\n                    this.stringColor = \"red\";\r\n                    this.stringColor1 = \"blue\";\r\n                    break;\r\n            }\r\n        }\r\n        //声明颜色数组s\r\n        //   this.colorBlock=[\"blue\",\"green\",\"red\"];\r\n        //声明形状数组\r\n        this.shapeBlock = [\"L\", \"Long\", \"Square\"];\r\n        this.nColor = Math.floor(cc.random0To1() * 3);\r\n        this.nShape = Math.floor(cc.random0To1() * 3);\r\n        this.nRotate = Math.floor(cc.random0To1() * 2);\r\n       \r\n        //根据浦友浦友形状生成\r\n        this.IsShape(this.shapeBlock, this.nShape);\r\n    },\r\n    //根据噗呦方块类型设置位置\r\n    setBlockPosition: function (stringShape1) {\r\n        switch (stringShape1) {\r\n            case \"Square\":\r\n                var v2WorldY = this.groundParent.getPositionY() + 12 * Global.nWidthPuYo + Global.nWidthPuYo / 2;\r\n                var v1WorldX = this.groundParent.getPositionX() + 2 * Global.nWidthPuYo + Global.nWidthPuYo / 2;\r\n                return cc.p(v1WorldX, v2WorldY);\r\n                break;\r\n            case \"L\":\r\n                var v2WorldY = this.groundParent.getPositionY() + 12 * Global.nWidthPuYo;\r\n                var v1WorldX = this.groundParent.getPositionX() + 2 * Global.nWidthPuYo;\r\n                return cc.p(v1WorldX, v2WorldY);\r\n                break;\r\n            case \"Long\":\r\n                var v2WorldY = this.groundParent.getPositionY() + 12 * Global.nWidthPuYo;\r\n                var v1WorldX = this.groundParent.getPositionX() + 2 * Global.nWidthPuYo;\r\n                return cc.p(v1WorldX, v2WorldY);\r\n                break;\r\n        }\r\n    },\r\n    //判断方块形状\r\n    IsShape: function (stringShape, nShape) {\r\n        switch (stringShape[nShape]) {\r\n            case \"L\":\r\n                //生成方块\r\n                this.CopyBlock(this.prefabL, \"L\");\r\n                var nodeBlockChild = this.nodeBlock.getChildren();\r\n                cc.log(this.nodeBlock.getPosition());\r\n                var self = this;\r\n                // var self = this;\r\n                if (this.nColor1 == 1) {\r\n                    self.nodeBlock.getComponent(\"PuyoDown\").nColor = 1;\r\n                    // nodeBlockChild[0].rotation=90;\r\n                    cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                        nodeBlockChild[0].getComponent(cc.Sprite).spriteFrame = txt;\r\n                        nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    });\r\n                    var nRandom = Math.floor(cc.random0To1() * 2);\r\n                    if (nRandom == 0) {\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                        });\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[2].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                        });\r\n                    }\r\n                    else {\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                        });\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[2].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                        });\r\n                    }\r\n                }\r\n                else {\r\n                    self.nodeBlock.getComponent(\"PuyoDown\").nColor = 2;\r\n                    cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                        nodeBlockChild[0].getComponent(cc.Sprite).spriteFrame = txt;\r\n                        nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    });\r\n                    var nRandom = Math.floor(cc.random0To1() * 2);\r\n                    if (nRandom == 0) {\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                        });\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor1, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[2].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = self.stringColor1;\r\n                        });\r\n                    }\r\n                    else {\r\n                        nodeBlockChild[0].rotation = 90;\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor1, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor1;\r\n                        });\r\n                        cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                            nodeBlockChild[2].getComponent(cc.Sprite).spriteFrame = txt;\r\n                            nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                        });\r\n                    }\r\n                }\r\n                //  //判断方块颜色\r\n                //  this.IsColor(this.colorBlock,this.nColor);\r\n                //  this.IsRotate(this.rotateBlock,this.nRotate,\"T\");     \r\n                //  this.nRotateAngle   \r\n                break;\r\n            case \"Long\":\r\n                this.CopyBlock(this.prefabLong, \"Long\");\r\n                var self = this;\r\n                var nodeBlockChild = this.nodeBlock.getChildren();\r\n                cc.log(this.nodeBlock.getPosition());\r\n                if (this.nColor1 == 1) {\r\n                    self.nodeBlock.getComponent(\"PuyoDown\").nColor = 1;\r\n                    cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                        nodeBlockChild[0].getComponent(cc.Sprite).spriteFrame = txt;\r\n                        nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    });\r\n                    cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                        nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                        nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    });\r\n                }\r\n                else {\r\n                    self.nodeBlock.getComponent(\"PuyoDown\").nColor = 2;\r\n                    cc.loader.loadRes(\"Game2/\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                        nodeBlockChild[0].getComponent(cc.Sprite).spriteFrame = txt;\r\n                        nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    });\r\n                    cc.log(\"Long\" + this.stringColor1);\r\n                    cc.loader.loadRes(\"Game2/\" + self.stringColor1, cc.SpriteFrame, function (err, txt) {\r\n                        nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                        cc.log(\"Long\" + nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame);\r\n                        nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor1;\r\n                    });\r\n                }\r\n                //  this.CopyBlock(this.prefabLong,\"Long\");\r\n                //  //判断方块颜色\r\n                //  this.IsColor(this.colorBlock,this.nColor);   \r\n                //  this.IsRotate(this.rotateBlock,this.nRotate,\"Long\");     \r\n                break;\r\n            case \"Square\":\r\n                var self = this;\r\n                if (this.nColor1 == 1) {\r\n                    this.CopyBlock(this.prefabSquare1, \"Square\");\r\n                    var nodeBlockChild = this.nodeBlock.getChildren();\r\n                    switch (this.stringColor) {\r\n                        case \"red\":\r\n                            for (var i = 0; i <= 3; i++) {\r\n                                nodeBlockChild[i].getComponent(cc.Animation).play(\"ChangeRed\");\r\n                                nodeBlockChild[i].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                            }\r\n                            this.nodeBlock.getComponent(\"PuyoDown\").nColor = 1;\r\n                            break;\r\n                        case \"green\":\r\n                            for (var i = 0; i <= 3; i++) {\r\n                                nodeBlockChild[i].getComponent(cc.Animation).play(\"ChangeGreen\");\r\n                                nodeBlockChild[i].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                            }\r\n                            this.nodeBlock.getComponent(\"PuyoDown\").nColor = 1;\r\n                            break;\r\n                        case \"blue\":\r\n                            for (var i = 0; i <= 3; i++) {\r\n                                nodeBlockChild[i].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                            }\r\n                            this.nodeBlock.getComponent(\"PuyoDown\").nColor = 1;\r\n                            break;\r\n                    }\r\n                    cc.log(this.nodeBlock.getPosition());\r\n                    // cc.log(self.stringColor);\r\n                    // cc.log(self.nodeBlock);\r\n                    // cc.loader.loadRes(\"Game2/1\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                    //     self.nodeBlock.getComponent(cc.Sprite).spriteFrame = txt;\r\n                    //     self.nodeBlock.getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    //     self.nodeBlock.getComponent(\"PuyoDown\").nColor = 1;\r\n                    // });\r\n                }\r\n                else {\r\n                    this.CopyBlock(this.prefabSquare, \"Square\");\r\n                    cc.log(this.nodeBlock.getPosition());\r\n                    var nodeBlockChild = this.nodeBlock.getChildren();\r\n                    var nRandom = Math.floor(cc.random0To1() * 2);\r\n                    if (nRandom == 0) {\r\n                        switch (this.stringColor) {\r\n                            case \"red\":\r\n                                nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                break;\r\n                            case \"green\":\r\n                                nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[0].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                nodeBlockChild[2].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                break;\r\n                            case \"blue\":\r\n                                nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                nodeBlockChild[0].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                nodeBlockChild[2].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                break;\r\n                        }\r\n                        switch (this.stringColor1) {\r\n                            case \"red\":\r\n                                nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeRed1\");\r\n                                nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeRed1\");\r\n                                break;\r\n                            case \"green\":\r\n                                nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                break;\r\n                            case \"blue\":\r\n                                nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                // nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                // nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                break;\r\n                        }\r\n                        this.nodeBlock.getComponent(\"PuyoDown\").nColor = 2;\r\n                    }\r\n                    else {\r\n                        switch (this.stringColor1) {\r\n                            case \"red\":\r\n                                nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                break;\r\n                            case \"green\":\r\n                                nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[0].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                nodeBlockChild[2].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                break;\r\n                            case \"blue\":\r\n                                nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                nodeBlockChild[0].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                nodeBlockChild[2].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                break;\r\n                        }\r\n                        switch (this.stringColor) {\r\n                            case \"red\":\r\n                                nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                                nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeRed1\");\r\n                                nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeRed1\");\r\n                                break;\r\n                            case \"green\":\r\n                                nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                                nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                                break;\r\n                            case \"blue\":\r\n                                nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                                // nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                // nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                                break;\r\n                        }\r\n                        this.nodeBlock.getComponent(\"PuyoDown\").nColor = 2;\r\n                    }\r\n                    // if (nRandom == 0) {\r\n\r\n                    //     // cc.loader.loadRes(\"Game2/1\" + self.stringColor, cc.SpriteFrame, function (err, txt) {\r\n                    //     //     nodeBlockChild[0].getComponent(cc.Sprite).spriteFrame = txt;\r\n                    //     //     nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = self.stringColor;\r\n                    //     //     nodeBlockChild[0].getComponent(\"InitPrefabState\").nColor = 2;\r\n                    //     // });\r\n                    //     // cc.loader.loadRes(\"Game2/1\" + self.stringColor1, cc.SpriteFrame, function (err, txt) {\r\n                    //     //     nodeBlockChild[1].getComponent(cc.Sprite).spriteFrame = txt;\r\n                    //     //     nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = self.stringColor1;\r\n\r\n                    //     // });\r\n                    //     // this.nodeBlock.getComponent(\"PuyoDown\").nColor = 2;\r\n                    // }\r\n                    // else {\r\n                    //     switch (this.stringColor1) {\r\n                    //         case \"red\":\r\n                    //             nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                    //             nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"red\";   \r\n                    //             break;\r\n                    //         case \"green\":\r\n                    //             nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                    //             nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                    //             nodeBlockChild[0].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                    //             nodeBlockChild[2].getComponent(cc.Animation).play(\"ChangeGreen1\");      \r\n                    //             break;\r\n                    //         case \"blue\":\r\n                    //             nodeBlockChild[0].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                    //             nodeBlockChild[2].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                    //             nodeBlockChild[0].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                    //             nodeBlockChild[2].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                    //             break;\r\n                    //     }\r\n                    //     switch (this.stringColor) {\r\n                    //         case \"red\":\r\n                    //             nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                    //             nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"red\";\r\n                    //             nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeRed1\");\r\n                    //             nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeRed1\");    \r\n                    //             break;\r\n                    //         case \"green\":\r\n                    //             nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                    //             nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"green\";\r\n                    //             nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeGreen1\");\r\n                    //             nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeGreen1\");  \r\n                    //             break;\r\n                    //         case \"blue\":\r\n                    //             nodeBlockChild[1].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                    //             nodeBlockChild[3].getComponent(\"InitPrefabState\").stringColor = \"blue\";\r\n                    //             // nodeBlockChild[1].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                    //             // nodeBlockChild[3].getComponent(cc.Animation).play(\"ChangeBlue1\");\r\n                    //             break;\r\n                    //     }\r\n                    //     this.nodeBlock.getComponent(\"PuyoDown\").nColor = 2;\r\n                    // }\r\n                }\r\n                break;\r\n        }\r\n    },\r\n    //遍历噗呦方块并随机赋值位置\r\n    CreatPosition: function () {\r\n        //存取方块的 固定行列数组\r\n        this.nodeBlock.setPosition(this.setBlockPosition(this.shapeBlock[this.nShape]));\r\n    },\r\n    //生成方块\r\n    CopyBlock: function (prefabLBlock, stringShape1) {\r\n        //生成噗呦方块\r\n        this.nodeBlock = cc.instantiate(prefabLBlock);\r\n        //设置方块的父体\r\n        this.nodeBlock.parent = this.downBoxParent;\r\n        //获取此时方块的形状\r\n        this.nodeBlock.getComponent(\"PuyoDown\").stringBoloekShape = stringShape1;\r\n        //存取方块的 固定行列数组\r\n        this.nodeBlock.setPosition(this.setBlockPosition(this.shapeBlock[this.nShape]));\r\n        // this.nodeBlock.setPosition(0,0);\r\n    },\r\n    //获取子块在地板父体下的坐标\r\n    GetBoxNode: function (childBox) {\r\n        if (this.nodeBlock.getComponent(\"PuyoDown\").stringBoloekShape == \"Long\" && this.nodeBlock.getComponent(\"PuyoDown\").nColor == 2) {\r\n            this.nPositionX = childBox.getPositionX();\r\n            this.nPositionY = childBox.getPositionY();\r\n        }\r\n        else {\r\n            switch (this.nodeBlock.getComponent(\"PuyoDown\").nRotateAngle) {\r\n                case 0:\r\n                    //赋值实际坐标\r\n                    this.nPositionX = childBox.getPositionX();\r\n                    this.nPositionY = childBox.getPositionY();\r\n                    break;\r\n                case 90:\r\n                    this.nPositionX = childBox.getPositionY();\r\n                    this.nPositionY = -childBox.getPositionX();\r\n                    break;\r\n                case 180:\r\n                    this.nPositionX = -childBox.getPositionX();\r\n                    this.nPositionY = -childBox.getPositionY();\r\n                    break;\r\n                case 270:\r\n                    this.nPositionX = -childBox.getPositionY();\r\n                    this.nPositionY = childBox.getPositionX();\r\n                    break;\r\n            }\r\n        }\r\n        //获取子块在地板附体下的行列\r\n        var nX = (this.nPositionX + this.nodeBlock.getPositionX() - this.groundParent.getPositionX()) / Global.nWidthPuYo + 1;\r\n        var nY = (this.nPositionY + this.nodeBlock.getPositionY() - this.groundParent.getPositionY()) / Global.nWidthPuYo + 1;\r\n        cc.log(nX);\r\n        cc.log(nY);\r\n        var x = this.userGroundChild[nX - 1][nY - 1].getPositionX();\r\n        var y = this.userGroundChild[nX - 1][nY - 1].getPositionY();\r\n        return cc.p(x, y);\r\n    },\r\n    start() {\r\n    },\r\n    //遍历带下落数组并判断可执行压缩噗呦块的下标\r\n    GetShapeSign: function (array) {\r\n        //初始化可压缩噗呦块数组\r\n        this.arrayChange = [];\r\n        var arrayLine = [];\r\n        for (var i = 0; i <= array.length - 1; i++) {\r\n            inner:\r\n            for (var j = 0; j <= array.length - 1; j++) {\r\n                if (array[i].getPositionX() == array[j].getPositionX() && array[i].getPositionY() == array[j].getPositionY()) {\r\n                    continue inner;\r\n                }\r\n                else {\r\n                    if (array[i].getPositionX() == array[j].getPositionX()) {\r\n                        if (array[i].getPositionY() > array[j].getPositionY()) {\r\n                            if (this.arrayChange.includes(i)) {\r\n                                continue inner;\r\n                            }\r\n                            else {\r\n                                arrayLine.push(array[i].getPositionX());\r\n                                this.arrayChange.push(i);\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                    else {\r\n                        if (this.arrayChange.includes(i)) {\r\n                            continue inner;\r\n                        }\r\n                        else {\r\n                            //判断此噗呦块是否是一列中最高的\r\n                            var isTall = false;\r\n                            for (var k = 0; k <= array.length - 1; k++) {\r\n                                if (array[i].getPositionY() < array[k].getPositionY()) {\r\n                                    if (array[i].getPositionX() == array[k].getPositionX()) {\r\n                                        isTall = true;\r\n                                    }\r\n                                }\r\n                                if (k == array.length - 1 && isTall == false) {\r\n                                    this.arrayChange.push(i);\r\n                                }\r\n                            }\r\n                            // if (array[i].getPositionY() > array[j].getPositionY()) {\r\n                            //     if (this.arrayChange.includes(i)) {\r\n                            //         continue inner;\r\n\r\n                            //     }\r\n                            //     else {\r\n                            //         if (arrayLine.includes(array[i].getPositionX())) {\r\n                            //             continue inner;\r\n                            //         }\r\n                            //         else {\r\n                            //             arrayLine.push(array[i].getPositionX());\r\n                            //             this.arrayChange.push(i);\r\n                            //         }\r\n                            //     }\r\n                            // }\r\n                            // else {\r\n                            //     if (this.arrayChange.includes(j)) {\r\n                            //         continue inner;\r\n                            //     }\r\n                            //     else {\r\n                            //         if (arrayLine.includes(array[j].getPositionX())) {\r\n                            //             continue inner;\r\n                            //         }\r\n                            //         else {\r\n                            //             arrayLine.push(array[j].getPositionX());\r\n                            //             this.arrayChange.push(j);\r\n                            //         }\r\n                            //     }\r\n                            // }\r\n                        }\r\n                        //                   \r\n                        // if (arrayLine.includes(array[i].getPositionX())) {\r\n                        //     continue inner;\r\n                        // }\r\n                        // else {\r\n                        //     arrayLine.push(array[i].getPositionX());\r\n                        //     this.arrayChange.push(i);\r\n                        // }\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    //根据坐标计算噗呦块的行数\r\n    CountRow: function (fPositinoY) {\r\n        var nRow = fPositinoY / Global.nWidthPuYo;\r\n        return nRow;\r\n    },\r\n    //根据坐标计算噗呦块的列数\r\n    CountLine: function (fPositinoX) {\r\n        var nLine = fPositinoX / Global.nWidthPuYo;\r\n        return nLine;\r\n    },\r\n    //根据不同的方向确定要改变的形状\r\n    SureShape: function (nArratLength, row, line, arraySign) {\r\n        cc.log();\r\n        var arrayBox = this.boxParent.getChildren();\r\n        switch (nArratLength) {\r\n            case 0:\r\n                for (var i = 0; i <= this.arrayDown.length-1-1; i++) {\r\n                    if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                        //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                        this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                        this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                    }\r\n                }\r\n                break;\r\n            case 1:\r\n                switch (this.stringConnectDirection) {\r\n                    case \"1\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab1);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Red\");\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Green\");\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case \"2\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab1);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Red\");\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Green\");\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case \"3\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab1);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Red\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Green\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case \"4\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab1);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Red\");\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_1Green\");\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case 2:\r\n                switch (this.stringConnectDirection) {\r\n                    case \"12\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab22);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_22Red\");\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_22Green\");\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case \"13\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab2);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Red\");\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Green\");\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                        }\r\n\r\n                        break;\r\n                    case \"14\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab2);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Red\");\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Green\");\r\n                                break;\r\n                        }\r\n\r\n                        break;\r\n                    case \"23\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab2);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Red\");\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Green\");\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                        }\r\n\r\n                        break;\r\n                    case \"24\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab2);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Red\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_2Green\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case \"34\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab22);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_22Red\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_22Green\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case 3:\r\n                switch (this.stringConnectDirection) {\r\n                    case \"123\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab3);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Red\");\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Green\");\r\n                                nodeChild[0].rotation = 180;\r\n                                break;\r\n                        }\r\n                        break;\r\n                    case \"124\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab3);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Red\");\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Green\");\r\n                                break;\r\n                        }\r\n\r\n                        break;\r\n                    case \"134\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab3);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Red\");\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Green\");\r\n                                nodeChild[0].rotation = 270;\r\n                                break;\r\n                        }\r\n\r\n                        break;\r\n                    case \"234\":\r\n                        for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                            if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                                //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                                this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                                this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                            }\r\n                        }\r\n                        arrayBox[arraySign].destroy();\r\n                        arrayBox[arraySign].setPosition(-1000, -1000);\r\n                        //生成新噗呦块\r\n                        var nodePuyo = cc.instantiate(this.prefab3);\r\n                        var nodeChild = nodePuyo.getChildren();\r\n                        nodePuyo.parent = this.boxParent;\r\n                        nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n                        switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                            case \"blue\":\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"red\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Red\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                            case \"green\":\r\n                                nodeChild[0].getComponent(cc.Animation).play(\"Change2B_3Green\");\r\n                                nodeChild[0].rotation = 90;\r\n                                break;\r\n                        }\r\n                        break;\r\n                }\r\n                break;\r\n            case 4:\r\n                for (var i = 0; i <= this.arrayDown.length-1; i++) {\r\n                    if (this.arrayDown[i].getPositionX() == arrayBox[arraySign].getPositionX() && this.arrayDown[i].getPositionY() == arrayBox[arraySign].getPositionY()) {\r\n                        //判断此噗呦块是否是本次下落数组中的噗呦块\r\n                        this.arrayPositionX.push(arrayBox[arraySign].getPositionX());\r\n                        this.arrayPositionY.push(arrayBox[arraySign].getPositionY());\r\n                    }\r\n                }\r\n                arrayBox[arraySign].destroy();\r\n                arrayBox[arraySign].setPosition(-1000, -1000);\r\n                //生成新噗呦块\r\n                var nodePuyo = cc.instantiate(this.prefab4);\r\n                var nodeChild = nodePuyo.getChildren();\r\n                nodePuyo.parent = this.boxParent;\r\n                nodePuyo.setPosition(this.userGroundChild[line][row].getPositionX(), this.userGroundChild[line][row].getPositionY());\r\n                switch (this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor) {\r\n                    case \"blue\":\r\n                        break;\r\n                    case \"red\":\r\n                        nodeChild[0].getComponent(cc.Animation).play(\"Change2B_4Red\");\r\n                        break;\r\n                    case \"green\":\r\n                        nodeChild[0].getComponent(cc.Animation).play(\"Change2B_4Green\");\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n    },\r\n\r\n    MoveLeft: function () {\r\n\r\n        // if (nLine == nLine1) {\r\n        //     return;\r\n        // }\r\n        //存取俄罗斯方块的行数\r\n        var nArrayRow = [];\r\n        //存取俄罗斯方块的列数\r\n        var nArrayList = [];\r\n        //获取节点子节点数组\r\n        var blockChild = this.nodeBlock.getChildren();\r\n\r\n        //将俄罗斯方块的行列存入数组中\r\n        for (var i = 0; i <= blockChild.length - 1; i++) {\r\n            //计算噗呦块的实际坐标\r\n            this.nodeBlock.getComponent(\"PuyoDown\").CountPosition(blockChild[i]);\r\n            //存储噗呦块的实际坐标.\r\n            var positionX = this.nodeBlock.getComponent(\"PuyoDown\").nPositionX;\r\n            var positionY = this.nodeBlock.getComponent(\"PuyoDown\").nPositionY;\r\n            //获取此时组成俄罗斯方块元素的行列\r\n            var nX = (positionX + this.nodeBlock.getPositionX() - cc.find(\"GroundParent\").getPositionX()) / Global.nWidthPuYo + 1;\r\n            var nY = (positionY + this.nodeBlock.getPositionY() - cc.find(\"GroundParent\").getPositionY()) / Global.nWidthPuYo + 1;\r\n            nArrayList.push(nX);\r\n            nArrayRow.push(Math.floor(nY));\r\n        }\r\n        //从小到大排序行数\r\n        for (var j = 0; j <= blockChild.length - 1; j++) {\r\n            if (j <= blockChild.length - 2) {\r\n                for (var k = j + 1; k <= blockChild.length - 1; k++) {\r\n                    if (nArrayRow[k] < nArrayRow[j]) {\r\n                        var nOldY = nArrayRow[j];\r\n                        nArrayRow[j] = nArrayRow[k];\r\n                        nArrayRow[k] = nOldY;\r\n                        var nOldX = nArrayList[j];\r\n                        nArrayList[j] = nArrayList[k];\r\n                        nArrayList[k] = nOldX;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (nArrayRow[0] == 12) {\r\n            //从小到大排序列数\r\n            for (var j = 0; j <= blockChild.length - 1; j++) {\r\n                if (j <= blockChild.length - 2) {\r\n                    for (var k = j + 1; k <= blockChild.length - 1; k++) {\r\n                        if (nArrayList[k] < nArrayList[j]) {\r\n                            var nOldY = nArrayRow[j];\r\n                            nArrayRow[j] = nArrayRow[k];\r\n                            nArrayRow[k] = nOldY;\r\n                            var nOldX = nArrayList[j];\r\n                            nArrayList[j] = nArrayList[k];\r\n                            nArrayList[k] = nOldX;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (nArrayList[0] == 1) {\r\n                return;\r\n            }\r\n            //判断方块的前一列是否有方块\r\n            var isHas = false;\r\n            for (var i = 0; i <= blockChild.length - 1; i++) {\r\n                if (nArrayRow[i] == 12) {\r\n                    //判断方块的前一列的方块属性是否为true\r\n                    if (this.userGroundChild[nArrayList[i] - 2][nArrayRow[i] - 1].getComponent(\"BoxState\").isBox) {\r\n                        isHas = true;\r\n                    }\r\n                }\r\n                if (i == blockChild.length - 1) {\r\n                    if (isHas) {\r\n                        return;\r\n                    }\r\n                    else {\r\n                        for (var k = 0; k <= blockChild.length - 1; k++) {\r\n                            if (k == blockChild.length - 1) {\r\n                                //俄罗斯方块向左移动\r\n                                this.nodeBlock.x -= Global.nWidthPuYo;\r\n                                if (this.nodeBlock.getComponent(\"PuyoDown\").isCollision) {\r\n                                    // //初始化 1s计时器\r\n                                    // this.nodeBlock.getComponent(\"OperateBlock\").fDownTime = 0;\r\n                                    // this.nodeBlock.getComponent(\"OperateBlock\").fCollisionTime = 0;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        else {\r\n            //从小到大排序列数\r\n            for (var j = 0; j <= blockChild.length - 1; j++) {\r\n                if (j <= blockChild.length - 2) {\r\n                    for (var k = j + 1; k <= blockChild.length - 1; k++) {\r\n                        if (nArrayList[k] < nArrayList[j]) {\r\n                            var nOldY = nArrayRow[j];\r\n                            nArrayRow[j] = nArrayRow[k];\r\n                            nArrayRow[k] = nOldY;\r\n                            var nOldX = nArrayList[j];\r\n                            nArrayList[j] = nArrayList[k];\r\n                            nArrayList[k] = nOldX;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            cc.log(nArrayList + \"MoveLeft\");\r\n            if (nArrayList[0] == 1) {\r\n\r\n                return;\r\n            }\r\n            else {\r\n                //判断方块的前一列是否有方块\r\n                var isHas = false;\r\n                for (var i = 0; i <= blockChild.length - 1; i++) {\r\n                    //判断方块的前一列的方块属性是否为true\r\n                    if (this.userGroundChild[nArrayList[i] - 2][nArrayRow[i] - 1].getComponent(\"BoxState\").isBox) {\r\n                        isHas = true;\r\n                    }\r\n                    if (i == blockChild.length - 1) {\r\n                        if (isHas) {\r\n                            return;\r\n                        }\r\n                        else {\r\n                            for (var k = 0; k <= blockChild.length - 1; k++) {\r\n\r\n                                if (k == blockChild.length - 1) {\r\n                                    //俄罗斯方块向左移动\r\n                                    this.nodeBlock.x -= Global.nWidthPuYo;\r\n                                    if (this.nodeBlock.getComponent(\"PuyoDown\").isCollision) {\r\n                                        // //初始化 1s计时器\r\n                                        // this.nodeBlock.getComponent(\"OperateBlock\").fDownTime = 0;\r\n                                        // this.nodeBlock.getComponent(\"OperateBlock\").fCollisionTime = 0;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    //俄罗斯方块向右移动\r\n    MoveRight: function () {\r\n        // if (nLine == nLine1) {\r\n        //     return;\r\n        // }\r\n        //存取俄罗斯方块的行数\r\n        var nArrayRow = [];\r\n        //存取俄罗斯方块的列数\r\n        var nArrayList = [];\r\n        //获取节点子节点数组\r\n        var blockChild = this.nodeBlock.getChildren();\r\n        //将俄罗斯方块的行列存入数组中\r\n        for (var i = 0; i <= blockChild.length - 1; i++) {\r\n            //计算噗呦块的实际坐标\r\n            this.nodeBlock.getComponent(\"PuyoDown\").CountPosition(blockChild[i]);\r\n            //存储噗呦块的实际坐标.\r\n            var positionX = this.nodeBlock.getComponent(\"PuyoDown\").nPositionX;\r\n            var positionY = this.nodeBlock.getComponent(\"PuyoDown\").nPositionY;\r\n            //获取此时组成俄罗斯方块元素的行列\r\n            var nX = (positionX + this.nodeBlock.getPositionX() - cc.find(\"GroundParent\").getPositionX()) / Global.nWidthPuYo + 1;\r\n            var nY = (positionY + this.nodeBlock.getPositionY() - cc.find(\"GroundParent\").getPositionY()) / Global.nWidthPuYo + 1;\r\n            //    cc.log(nX);\r\n            //    cc.log(nY);\r\n            nArrayList.push(nX);\r\n            nArrayRow.push(Math.floor(nY));\r\n        }\r\n        //从小到大排序行数\r\n        for (var j = 0; j <= blockChild.length - 1; j++) {\r\n            if (j <= blockChild.length - 2) {\r\n                for (var k = j + 1; k <= blockChild.length - 1; k++) {\r\n                    if (nArrayRow[k] < nArrayRow[j]) {\r\n                        var nOldY = nArrayRow[j];\r\n                        nArrayRow[j] = nArrayRow[k];\r\n                        nArrayRow[k] = nOldY;\r\n                        var nOldX = nArrayList[j];\r\n                        nArrayList[j] = nArrayList[k];\r\n                        nArrayList[k] = nOldX;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (nArrayRow[0] == 12) {\r\n            //从小到大排序列数\r\n            for (var j = 0; j <= blockChild.length - 1; j++) {\r\n                if (j <= blockChild.length - 2) {\r\n                    for (var k = j + 1; k <= blockChild.length - 1; k++) {\r\n                        if (nArrayList[k] < nArrayList[j]) {\r\n                            var nOldY = nArrayRow[j];\r\n                            nArrayRow[j] = nArrayRow[k];\r\n                            nArrayRow[k] = nOldY;\r\n                            var nOldX = nArrayList[j];\r\n                            nArrayList[j] = nArrayList[k];\r\n                            nArrayList[k] = nOldX;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (nArrayList[blockChild.length - 1] == 6) {\r\n                return;\r\n            }\r\n            else {\r\n                //判断方块的下一列是否有方块\r\n                var isHas = false;\r\n                for (var i = blockChild.length - 1; i >= 0; i--) {\r\n                    if (nArrayRow[i] == 12) {\r\n                        //判断方块的前一列的方块属性是否为true\r\n                        if (this.userGroundChild[nArrayList[i] - 2][nArrayRow[i] - 1].getComponent(\"BoxState\").isBox) {\r\n                            isHas = true;\r\n                        }\r\n                    }\r\n                    if (i == 0) {\r\n                        if (isHas) {\r\n                            return;\r\n                        }\r\n                        else {\r\n                            for (var k = 0; k <= blockChild.length - 1; k++) {\r\n                                if (k == blockChild.length - 1) {\r\n                                    //俄罗斯方块向右移动\r\n                                    this.nodeBlock.x += Global.nWidthPuYo;\r\n                                    if (this.nodeBlock.getComponent(\"PuyoDown\").isCollision) {\r\n                                        // //初始化 1s计时器\r\n                                        // this.nodeBlock.getComponent(\"OperateBlock\").fDownTime = 0;\r\n                                        // this.nodeBlock.getComponent(\"OperateBlock\").fCollisionTime = 0;\r\n                                    }\r\n                                    //   //初始化 1s计时器\r\n                                    //   this.nodeBlock.getComponent(\"OperateBlock\").fCollisionTime=0;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            //从小到大排序列数\r\n            for (var j = 0; j <= blockChild.length - 1; j++) {\r\n                if (j <= blockChild.length - 2) {\r\n                    for (var k = j + 1; k <= blockChild.length - 1; k++) {\r\n                        if (nArrayList[k] < nArrayList[j]) {\r\n                            var nOldY = nArrayRow[j];\r\n                            nArrayRow[j] = nArrayRow[k];\r\n                            nArrayRow[k] = nOldY;\r\n                            var nOldX = nArrayList[j];\r\n                            nArrayList[j] = nArrayList[k];\r\n                            nArrayList[k] = nOldX;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (nArrayList[blockChild.length - 1] == 6) {\r\n                return;\r\n            }\r\n            else {\r\n                //判断方块的下一列是否有方块\r\n                var isHas = false;\r\n                for (var i = blockChild.length - 1; i >= 0; i--) {\r\n\r\n                    //判断方块的下一列的方块属性是否为true\r\n                    if (this.userGroundChild[nArrayList[i]][nArrayRow[i] - 1].getComponent(\"BoxState\").isBox) {\r\n                        isHas = true;\r\n                    }\r\n                    if (i == 0) {\r\n                        if (isHas) {\r\n                            return;\r\n                        }\r\n                        else {\r\n                            for (var k = 0; k <= blockChild.length - 1; k++) {\r\n                                if (k == blockChild.length - 1) {\r\n                                    //俄罗斯方块向右移动\r\n                                    this.nodeBlock.x += Global.nWidthPuYo;\r\n                                    if (this.nodeBlock.getComponent(\"PuyoDown\").isCollision) {\r\n                                        // //初始化 1s计时器\r\n                                        // this.nodeBlock.getComponent(\"OperateBlock\").fDownTime = 0;\r\n                                        // this.nodeBlock.getComponent(\"OperateBlock\").fCollisionTime = 0;\r\n                                    }\r\n                                    //   //初始化 1s计时器\r\n                                    //   this.nodeBlock.getComponent(\"OperateBlock\").fCollisionTime=0;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    },\r\n    //压缩变形判断噗呦块是否可以可以相连\r\n    IsConnect: function () {\r\n        var arrayBox = this.boxParent.getChildren();\r\n        cc.log(arrayBox.length + \"isconnect\");\r\n        var nTravel = arrayBox.length - 1;\r\n        //存取下落块的横，纵坐标\r\n        this.arrayPositionX = [];\r\n        this.arrayPositionY = [];\r\n        for (var i = 0; i <= nTravel; i++) {\r\n            cc.log(\"77777777777777777777777777777777777777777777777777777777777\");\r\n            // cc.log(arrayBox[i].getPositionY()+\"isconnect\");\r\n            this.stringConnectDirection = \"\";\r\n            //初始化此时噗呦块的行数\r\n            var nRow3 = this.CountRow(arrayBox[i].getPositionY());\r\n            var nLine3 = this.CountLine(arrayBox[i].getPositionX());\r\n            // cc.log(\"isconnect\"+this.CountRow(arrayBox[i].getPositionY()));\r\n            if (nRow3 > 0 && nLine3 > 0 && this.CountLine(arrayBox[i].getPositionX()) < 5) {\r\n                //默认方向想上为1，向下为2，向左为3，向右为4\r\n                //判断噗呦块的上方是否颜色相同\r\n                if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 + 1].getComponent(\"BoxState\").stringColor) {\r\n                    this.stringConnectDirection += \"1\";\r\n                }\r\n                //判断噗呦块的下方是否颜色相同\r\n                if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 - 1].getComponent(\"BoxState\").stringColor) {\r\n                    this.stringConnectDirection += \"2\";\r\n                }\r\n                //判断噗呦块的左方是否颜色相同\r\n                if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 - 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                    this.stringConnectDirection += \"3\";\r\n                }\r\n                //判断噗呦块的右方是否颜色相同\r\n                if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 + 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                    this.stringConnectDirection += \"4\";\r\n                }\r\n\r\n            }\r\n            else {\r\n                if ((nRow3 == 0 && nLine3 == 0) || (nRow3 == 0 && nLine3 == 5) || (nRow3 == 11 && nLine3 == 0) || (nRow3 == 11 && nLine3 == 5)) {\r\n                    if (nRow3 == 0 && nLine3 == 0) {\r\n                        //默认方向想上为1，向下为2，向左为3，向右为4\r\n                        //判断噗呦块的上方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 + 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"1\";\r\n                        }\r\n                        //判断噗呦块的右方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 + 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"4\";\r\n                        }\r\n\r\n\r\n                    }\r\n                    if (nRow3 == 0 && nLine3 == 5) {\r\n                        //默认方向想上为1，向下为2，向左为3，向右为4\r\n                        //判断噗呦块的上方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 + 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"1\";\r\n                        }\r\n                        //判断噗呦块的左方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 - 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"3\";\r\n                        }\r\n\r\n                    }\r\n                    if (nRow3 == 11 && nLine3 == 0) {\r\n                        //默认方向想上为1，向下为2，向左为3，向右为4\r\n                        //判断噗呦块的下方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 - 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"2\";\r\n                        }\r\n                        //判断噗呦块的右方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 + 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"4\";\r\n                        }\r\n\r\n\r\n                    }\r\n                    if (nRow3 == 11 && nLine3 == 5) {\r\n                        //判断噗呦块的下方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 - 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"2\";\r\n                        }\r\n                        //判断噗呦块的左方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 - 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"3\";\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (nRow3 == 0) {\r\n                        //默认方向想上为1，向下为2，向左为3，向右为4\r\n                        //判断噗呦块的上方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 + 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"1\";\r\n                        }\r\n                        //判断噗呦块的左方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 - 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"3\";\r\n                        }\r\n                        //判断噗呦块的右方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 + 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"4\";\r\n                        }\r\n\r\n                    }\r\n                    if (nLine3 == 0) {\r\n                        //默认方向想上为1，向下为2，向左为3，向右为4\r\n                        //判断噗呦块的上方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 + 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"1\";\r\n                        }\r\n                        //判断噗呦块的下方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 - 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"2\";\r\n                        }\r\n                        //判断噗呦块的右方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 + 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"4\";\r\n                        }\r\n\r\n                    }\r\n                    if (nLine3 == 5) {\r\n                        //默认方向想上为1，向下为2，向左为3，向右为4\r\n                        //判断噗呦块的上方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 + 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"1\";\r\n                        }\r\n                        //判断噗呦块的下方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3][nRow3 - 1].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"2\";\r\n                        }\r\n                        //判断噗呦块的左方是否颜色相同\r\n                        if (this.userGroundChild[nLine3][nRow3].getComponent(\"BoxState\").stringColor == this.userGroundChild[nLine3 - 1][nRow3].getComponent(\"BoxState\").stringColor) {\r\n                            this.stringConnectDirection += \"3\";\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n            }\r\n            this.SureShape(this.stringConnectDirection.length, nRow3, nLine3, i);\r\n        }\r\n    },\r\n    update(dt) {\r\n        if (this.nodeBlock.getComponent(\"PuyoDown\").isStationary && this.nodeBlock.getComponent(\"PuyoDown\").isGameOver == false) {\r\n            //初始化待下落数组\r\n            this.arrayDown = [];\r\n            // this.boxParent1=this.boxParent.getChildren();\r\n            //获取此方块的数组\r\n            var nodeBoxArray = this.nodeBlock.getChildren();\r\n            var arrayLength = nodeBoxArray.length;\r\n            for (var i = 0; i <= arrayLength - 1; i++) {\r\n                this.arrayDown.push(nodeBoxArray[0]);\r\n                nodeBoxArray[0].setPosition(this.GetBoxNode(nodeBoxArray[0]));\r\n                nodeBoxArray[0].parent = this.boxParent;\r\n                if (i == arrayLength - 1) {\r\n                    this.GetShapeSign(this.arrayDown);\r\n                    cc.log(this.arrayChange + \"??????????????\");\r\n                    this.nodeBlock.getComponent(\"PuyoDown\").isChangeParent = true;\r\n                }\r\n            }\r\n        }\r\n        if (this.nodeBlock.getComponent(\"PuyoDown\").isChangeParent && this.nodeBlock.getComponent(\"PuyoDown\").isGameOver == false) {\r\n            // // cc.log(\"bbb\");\r\n            // for(var i=0;i<=  this.arrayDown.length-1;i++)\r\n            // {\r\n            //     // cc.log(this.nodeBlock.getComponent(\"PuyoDown\").arrayX[i]-1);\r\n            //     // cc.log(this.nodeBlock.getComponent(\"PuyoDown\").arrayY[i]-1);\r\n            //     // cc.log(\"222222222222222222222222222\");\r\n            //     this.userGroundChild[this.nodeBlock.getComponent(\"PuyoDown\").arrayX[i]-1][this.nodeBlock.getComponent(\"PuyoDown\").arrayY[i]-1].getComponent(\"BoxState\").isBox = true;\r\n            //     this.userGroundChild[this.nodeBlock.getComponent(\"PuyoDown\").arrayX[i]-1][this.nodeBlock.getComponent(\"PuyoDown\").arrayY[i]-1].getComponent(\"BoxState\").stringColor =  this.arrayDown[i].stringColor;\r\n            // }`\r\n            for (var i = 0; i <= this.nodeBlock.getComponent(\"PuyoDown\").arrayX.length - 1; i++) {\r\n                this.BoxDown(this.nodeBlock.getComponent(\"PuyoDown\").arrayY[i] - 1, this.nodeBlock.getComponent(\"PuyoDown\").arrayX[i] - 1);\r\n            }\r\n            // this.GetBlock();\r\n            this.nodeBlock.getComponent(\"PuyoDown\").isChangeParent = false;\r\n            this.nodeBlock.getComponent(\"PuyoDown\").isStationary = false;\r\n            // //生成新的俄罗斯方块\r\n            // this.GetBlock();\r\n            // this.nodeBlock.getComponent(\"PuyoDown\").isChangeParent = false;\r\n        }\r\n        if (this.isActionDown) {\r\n            //压缩变形\r\n            this.ChangeShape(this, { \"nRow\": this.nRow2, \"nLine\": this.nLine2 });\r\n            this.isActionDown = false;\r\n        }\r\n        if (this.arrayChange != null) {\r\n            // cc.log(this.nChangeShape + \"~~~~~~~~~~~~~~~~~~~~~~~\");\r\n            if (this.nChangeShape == this.arrayChange.length) {\r\n                for (var i = 0; i <= 11; i++) {\r\n                    for (var j = 0; j <= 5; j++) {\r\n                        cc.log(this.userGroundChild[j][i].getComponent(\"BoxState\").stringColor + \"9999999999999999999\");\r\n                    }\r\n                }\r\n                for (var i = 0; i <= this.arrayDown.length - 1; i++) {\r\n                    var row = this.CountRow(this.arrayDown[i].getPositionY());\r\n                    var line = this.CountLine(this.arrayDown[i].getPositionX());\r\n                    // cc.log(this.arrayDown.length + \"888888888888888888888888888888888888888888\");\r\n                    // cc.log(this.userGroundChild[line][row].getComponent(\"BoxState\").stringColor + \"888888888888888888888888888888888888888888\");\r\n                }\r\n                this.IsConnect();\r\n                this.IsDestroy();\r\n                this.GetBlock();\r\n                //初始化形变次数\r\n                this.nChangeShape = 0;\r\n                this.nRotateLong = 0;\r\n                // this.isActionShape = false;\r\n                // this.nodeBlock.getComponent(\"PuyoDown\").isChangeParent = false;\r\n                // this.nodeBlock.getComponent(\"PuyoDown\").isStationary = false;\r\n            }\r\n        }\r\n    },\r\n});"]}