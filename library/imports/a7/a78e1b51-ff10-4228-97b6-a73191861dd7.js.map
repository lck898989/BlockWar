{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Scripts\\ChooseGame/assets\\Scripts\\ChooseGame\\chooseModel.js"],"names":["cc","Class","extends","Component","properties","nickName","Node","icon","clickAudio","url","AudioClip","default","onLoad","CC_WECHATGAME","find","getComponent","gameClubButton","hide","director","preloadScene","log","start","sys","isNative","userInfoScript","console","nameUser","Label","string","loadUserPictureByWx","pictureUser","figureBlock","wx","showLoading","title","mask","playClickMusic","loadScene","hideLoading","puyoBlock","tetrisBlock","stoneBlock","back","share","shareFriends","audioEngine","play"],"mappings":"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","file":"chooseModel.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\ChooseGame","sourcesContent":["/*\r\n * @Author: mikey.zhaopeng \r\n * @Date: 2018-06-20 09:51:08 \r\n * @Last Modified by: mikey.zhaopeng\r\n * @Last Modified time: 2018-08-19 14:56:55\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nickName : cc.Node,\r\n        icon     : cc.Node,\r\n        clickAudio :{\r\n            url : cc.AudioClip,\r\n            default : null,\r\n        },\r\n    },\r\n    \r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        if(CC_WECHATGAME){\r\n            //隐藏游戏圈\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").gameClubButton.hide();\r\n        }\r\n        // //预加载这些场景\r\n        cc.director.preloadScene(\"Game1\",function(){\r\n            cc.log(\"俄罗斯方块预加载成功！！\");\r\n        });\r\n        cc.director.preloadScene(\"Game2\",function(){\r\n            cc.log(\"宝石方块预加载成功\");\r\n        });\r\n        // cc.director.preloadScene(\"Game3\",function(){\r\n        //     cc.log(\"噗哟噗哟预加载成功\");\r\n        // });\r\n        cc.director.preloadScene(\"Game4\",function(){\r\n            cc.log(\"画像方块预加载成功\");\r\n        });\r\n    },\r\n   \r\n    start () {\r\n        if(cc.sys.isNative){\r\n            // var userInfoScript = cc.find(\"PebmanentNode\").getComponent(\"UserInfo\");\r\n            // this.nickName.getComponent(cc.Label).string = userInfoScript.nameUser;\r\n            // userInfoScript.LoadUserPicture(userInfoScript.pictureUser,this.icon);\r\n        }\r\n        if(CC_WECHATGAME){\r\n            var userInfoScript = cc.find(\"PebmanentNode\").getComponent(\"UserInfo\");\r\n            console.log(\"in chooseModel nameUser is \",userInfoScript.nameUser);\r\n            this.nickName.getComponent(cc.Label).string = userInfoScript.nameUser;\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").loadUserPictureByWx(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser,cc.find(\"Canvas/icon\"));\r\n        }\r\n       \r\n    },\r\n    //画像方块\r\n    figureBlock : function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        this.playClickMusic();\r\n        cc.director.loadScene(\"Game4\",function(){\r\n            if(CC_WECHATGAME){\r\n               //隐藏加载框\r\n               wx.hideLoading();\r\n            }\r\n        });\r\n    },\r\n    //噗哟噗哟\r\n    puyoBlock   : function(){\r\n        // this.playClickMusic();\r\n        // cc.director.loadScene(\"Game2\");\r\n    },\r\n    //俄罗斯方块\r\n    tetrisBlock : function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        this.playClickMusic();\r\n        cc.director.loadScene(\"Game1\",function(){\r\n            if(CC_WECHATGAME){\r\n               //隐藏加载框\r\n               wx.hideLoading();\r\n            }\r\n        });\r\n    },\r\n    //宝石方块\r\n    stoneBlock  : function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        this.playClickMusic();\r\n        cc.director.loadScene(\"Game3\",function(){\r\n            if(CC_WECHATGAME){\r\n               //隐藏加载框\r\n               wx.hideLoading();\r\n            }\r\n        });\r\n    },\r\n    //匹配返回\r\n    back        : function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        this.playClickMusic();\r\n        cc.director.loadScene(\"Main\",function(){\r\n            if(CC_WECHATGAME){\r\n                wx.hideLoading();\r\n            }\r\n        });\r\n    },\r\n    share : function(){\r\n        if(CC_WECHATGAME){\r\n            console.log(\"首页share\");\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").shareFriends();\r\n        }else if(cc.sys.isNative){\r\n            //原生平台分享\r\n            // cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nativeShare();\r\n        }\r\n    },\r\n    playClickMusic : function(){\r\n        cc.audioEngine.play(this.clickAudio,false,1);\r\n    },\r\n    // update (dt) {},\r\n    \r\n});\r\n"]}