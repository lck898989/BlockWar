{"version":3,"sources":["TurnScene.js"],"names":["cc","Class","extends","Component","properties","clickAudio","url","AudioClip","default","help","Node","mask","nameUser","type","pictureUser","backButton","notice","onLoad","CC_WECHATGAME","find","getComponent","gameClubButton","show","self","helpX","x","active","on","runBack","moveTo","p","runAction","bind","console","log","MAIN_MENU","topScore","noticeX","noticeY","y","canClick","loadUserPictureByWx","node","getChildByName","Label","string","audioEngine","play","sys","os","OS_ANDROID","director","end","action","shareIcon","shareFriends","isNative","shareText","start","TurnOneChoose","wx","showLoading","title","loadScene","hideLoading","TurnPersonsChoose","helpFun","runA","showRank","helpBtn","Button","singleBtn","warBtn","interactable","worldRank","friendRank","rankNode","showWorldRank","update","dt","share"],"mappings":"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","file":"TurnScene.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Scripts\\Main1","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        clickAudio : {\r\n            url     : cc.AudioClip,\r\n            default : null,\r\n        },\r\n        help : cc.Node,\r\n        mask : cc.Node,\r\n         //获取用户名字节点\r\n        nameUser:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        //获取用户头像及诶但\r\n        pictureUser:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        backButton : cc.Node,\r\n        notice     : cc.Node,\r\n        mask       : cc.Node,\r\n        shareIcon  : cc.Node,\r\n        shareText  : cc.Node,\r\n        helpBtn    : cc.Node,\r\n        singleBtn  : cc.Node,\r\n        warBtn     : cc.Node,\r\n        worldRank  : cc.Node,\r\n        friendRank : cc.Node,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        if(CC_WECHATGAME){\r\n            //隐藏游戏圈\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").gameClubButton.show();\r\n        }\r\n        var self = this;\r\n        this.helpX = this.help.x;\r\n        this.mask.active = false;\r\n        this.mask.on(\"touchstart\",function(){\r\n            self.mask.active = false;\r\n            var runBack = cc.moveTo(0.5,cc.p(self.helpX,960));\r\n            self.help.runAction(runBack);\r\n        }.bind(this));\r\n        console.log(\"加载排行榜页面\");\r\n        this.MAIN_MENU = '';\r\n        this.topScore = 0;\r\n        this.mask.active = false;\r\n        this.noticeX = this.notice.x;\r\n        this.noticeY = this.notice.y;\r\n        //按钮能够点击\r\n        this.canClick = true;\r\n        // if(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser==\"\")\r\n        // {\r\n        //     cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser=\"http://image.baidu.com/search/detail?ct=503316480&z=0&ipn=d&word=%E5%9B%BE%E7%89%87&hs=0&pn=7&spn=0&di=135898298690&pi=0&rn=1&tn=baiduimagedetail&is=0%2C0&ie=utf-8&oe=utf-8&cl=2&lm=-1&cs=2260926939%2C1550208231&os=2086677986%2C2932337668&simid=0%2C0&adpicid=0&lpn=0&ln=30&fr=ala&fm=&sme=&cg=&bdtype=0&oriquery=&objurl=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F01690955496f930000019ae92f3a4e.jpg%402o.jpg&fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bzv55s_z%26e3Bv54_z%26e3BvgAzdH3Fo56hAzdH3FZNTAaMzMy_z%26e3Bip4s%3FfotpviPw2j%3D5g&gsm=0&islist=&querylist=\";\r\n        // }\r\n        // if(cc.sys.isNative){\r\n        //     cc.log(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser+\"++++++++++++++++++++++++++++++++++++++++++++++++++++\");\r\n        //     cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").LoadUser(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser,cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nameUser,cc.find(\"Canvas/UserName\"),cc.find(\"Canvas/UserPicture\"));\r\n        // }\r\n        if(CC_WECHATGAME){\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").loadUserPictureByWx(cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").pictureUser,cc.find(\"Canvas/UserPicture\"));\r\n            this.node.getChildByName(\"UserName\").getComponent(cc.Label).string = cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nameUser;\r\n        }\r\n        this.backButton.on(\"touchstart\",function(){\r\n            if(this.canClick){\r\n                cc.audioEngine.play(this.clickAudio,false,1);\r\n                if(cc.sys.os === cc.sys.OS_ANDROID){\r\n                    //返回手机桌面\r\n                    cc.director.end();\r\n                }\r\n            }\r\n        }.bind(this));\r\n        this.notice.on(\"touchstart\",function(){\r\n            let action = cc.moveTo(0.5,cc.p(this.noticeX,this.noticeY));\r\n            this.notice.runAction(action);\r\n            this.mask.active = false;\r\n        }.bind(this));\r\n        this.mask.on(\"touchstart\",function(){\r\n            let action = cc.moveTo(0.5,cc.p(this.noticeX,this.noticeY));\r\n            this.notice.runAction(action);\r\n            this.mask.active = false;\r\n        }.bind(this));\r\n        this.shareIcon.on('touchstart',function(){\r\n            if(this.canClick){\r\n                if(CC_WECHATGAME){\r\n                    console.log(\"首页share\");\r\n                    cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").shareFriends();\r\n                }else if(cc.sys.isNative){\r\n                    //原生平台分享\r\n                    // cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nativeShare();\r\n                }\r\n            }\r\n        }.bind(this));\r\n        this.shareText.on('touchstart',function(){\r\n            if(this.canClick){\r\n                if(CC_WECHATGAME){\r\n                    console.log(\"首页share\");\r\n                    cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").shareFriends();\r\n                }else if(cc.sys.isNative){\r\n                    //原生平台分享\r\n                    // cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nativeShare();\r\n                }\r\n            }\r\n        }.bind(this));\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n    //跳转单人选择场景\r\n    TurnOneChoose:function(){\r\n        cc.log(\"#####################\");\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            })\r\n        }\r\n        cc.audioEngine.play(this.clickAudio,false,1);\r\n        //转到切换模式界面\r\n        cc.director.loadScene(\"OneChoose\",function(){\r\n            if(CC_WECHATGAME){\r\n                //隐藏加载中\r\n                wx.hideLoading();\r\n            }\r\n        });\r\n    },\r\n    //跳转多人选择场景\r\n    TurnPersonsChoose:function(){\r\n        if(CC_WECHATGAME){\r\n            wx.showLoading({\r\n                title : '火速加载中...',\r\n                mask  : true,\r\n            });\r\n        }\r\n        cc.audioEngine.play(this.clickAudio,false,1);\r\n        cc.log(\"++++++++++++++++++++++++++++++++++++++++++++++++++\");\r\n        cc.director.loadScene(\"PersonsChoose\",function(){\r\n            if(CC_WECHATGAME){\r\n                //隐藏加载中\r\n                wx.hideLoading();\r\n            }\r\n        });\r\n    },\r\n    helpFun : function(){\r\n        console.log(\"进入help\");\r\n        this.mask.active = true;\r\n        var runA = cc.moveTo(0.5,cc.p(540,960));\r\n        //显示帮助节点\r\n        this.help.runAction(runA);\r\n    },\r\n    showRank : function(){\r\n        if(CC_WECHATGAME){\r\n            this.canClick = false;\r\n            //显示黑色背景\r\n            cc.find(\"PebmanentNode/dark\").active = true;\r\n            //其他按钮不允许点击\r\n            console.log(\"helpBtn is \",this.helpBtn.getComponent(cc.Button));\r\n            console.log(\"backButton is \",this.backButton.getComponent(cc.Button));\r\n            console.log(\"singleBtn  is \",this.singleBtn.getComponent(cc.Button));\r\n            console.log(\"warBtn is \",this.warBtn.getComponent(cc.Button));\r\n            this.helpBtn.getComponent(cc.Button).interactable = false;\r\n            this.backButton.getComponent(cc.Button).interactable = false;\r\n            this.singleBtn.getComponent(cc.Button).interactable = false;\r\n            this.warBtn.getComponent(cc.Button).interactable = false;\r\n            this.worldRank.getComponent(cc.Button).interactable = false;\r\n            this.friendRank.getComponent(cc.Button).interactable = false;\r\n            //显示排行榜页面\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").showRank();\r\n            //显示排行榜\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").rankNode.active = true;\r\n            \r\n        }\r\n    },\r\n    //显示世界排行\r\n    showWorldRank : function(){\r\n        this.canClick = false;\r\n        if(CC_WECHATGAME){\r\n            //其他按钮不允许点击\r\n            this.helpBtn.getComponent(cc.Button).interactable = false;\r\n            this.backButton.getComponent(cc.Button).interactable = false;\r\n            this.singleBtn.getComponent(cc.Button).interactable = false;\r\n            this.warBtn.getComponent(cc.Button).interactable = false;\r\n            this.worldRank.getComponent(cc.Button).interactable = false;\r\n            this.friendRank.getComponent(cc.Button).interactable = false;\r\n            //显示世界排行榜页面\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").showWorldRank();\r\n        }\r\n    },\r\n    update (dt) {\r\n        \r\n    },\r\n    share : function(){\r\n        if(CC_WECHATGAME){\r\n            console.log(\"首页share\");\r\n            cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").shareFriends();\r\n        }else if(cc.sys.isNative){\r\n            //原生平台分享\r\n            // cc.find(\"PebmanentNode\").getComponent(\"UserInfo\").nativeShare();\r\n        }\r\n    },\r\n});\r\n"]}